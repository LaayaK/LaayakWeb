(this["webpackJsonplink-aya-kya"]=this["webpackJsonplink-aya-kya"]||[]).push([[17],{122:function(e,a,t){"use strict";t.r(a);var n=t(44),s=t(12),i=t(13),o=t(15),r=t(14),l=t(0),c=t.n(l),u=t(1),d=t(6),m=t(43),p=t(45),h=t.n(p),g=t(57),v=m.a.firestore(),f=function(e){Object(o.a)(t,e);var a=Object(r.a)(t);function t(){var e;Object(s.a)(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).isMount=!1,e.state={user:null,doc:"",verified:!1,loading:!0,email:"",password:""},e.authListener=function(){m.a.auth().onAuthStateChanged((function(a){a&&("cr"===a.displayName&&e.isMount&&e.setState({verified:!0}),v.collection("cr").doc(null===a||void 0===a?void 0:a.email).get().then((function(a){a.exists&&e.isMount&&e.setState({doc:a.data().classId})})));e.isMount&&e.setState({user:a})}))},e.handleChange=function(a){var t=a.target.name,s=a.target.value;e.setState(Object(n.a)({},t,s))},e.handleLogin=function(a){a.preventDefault();var t=a.target.classList;t.add("loading");var n=e.state.email,s=e.state.password;m.a.auth().signInWithEmailAndPassword(n,s).then((function(e){"cr"===e.user.displayName?(h.a.toast({html:"Logged In Successfully",classes:"toast success-toast"}),t.remove("loading"),window.location.pathname="/cr"):(t.remove("loading"),h.a.toast({html:"Invalid Email/Password",classes:"toast error-toast"}))})).catch((function(e){"The password is invalid or the user does not have a password."!==e.message&&"There is no user record corresponding to this identifier. The user may have been deleted."!==e.message||(t.remove("loading"),h.a.toast({html:"Invalid Email/Password",classes:"toast error-toast"}))}))},e.getForm=function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"container-login mx-auto"},c.a.createElement("div",{className:"con-login"},c.a.createElement("h1",null,"Log In"),c.a.createElement("form",{onSubmit:e.handleLogin,style:{width:"100%"}},c.a.createElement("div",{className:"con-inputs mt-4"},c.a.createElement("div",{className:"con-input"},c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{placeholder:"email@example.com",id:"email",name:"email",value:e.state.email,type:"text",onChange:e.handleChange,required:!0})),c.a.createElement("div",{className:"con-input"},c.a.createElement("label",{htmlFor:"password"},"Password"),c.a.createElement("input",{placeholder:"Password",id:"password",name:"password",value:e.state.password,type:"password",onChange:e.handleChange,required:!0}),c.a.createElement(g.a,null)),c.a.createElement("div",{className:"con-new"},"New here? ",c.a.createElement(d.b,{to:"/newcr"},"Sign Up"))),c.a.createElement("footer",null,c.a.createElement("button",{type:"submit",className:"btn-login"},"Log In"))))))},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.isMount=!0,this.authListener()}},{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"render",value:function(){return this.state.user&&this.state.verified?c.a.createElement(u.a,{to:"/cr"}):c.a.createElement("div",null,this.getForm())}}]),t}(l.Component);a.default=f},43:function(e,a,t){"use strict";var n=t(50);t(51),t(53),t(52);n.a.initializeApp({apiKey:"AIzaSyBtqTsT1XUqRQUREtKJ0QSnmHd5YvExHw8",authDomain:"layaak-web.firebaseapp.com",projectId:"layaak-web",storageBucket:"layaak-web.appspot.com",messagingSenderId:"1093914758055",appId:"1:1093914758055:web:b614caead750078d920482"}),a.a=n.a},44:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"a",(function(){return n}))},57:function(e,a,t){"use strict";var n=t(0),s=t.n(n);a.a=function(){return s.a.createElement("i",{className:"fa fa-eye",onClick:function(e){var a=document.getElementById("password"),t="password"===a.getAttribute("type")?"text":"password";a.setAttribute("type",t),e.target.classList.toggle("fa-eye-slash")}})}}}]);
//# sourceMappingURL=17.7561efb7.chunk.js.map