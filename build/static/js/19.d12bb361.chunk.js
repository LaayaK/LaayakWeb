(this["webpackJsonplink-aya-kya"]=this["webpackJsonplink-aya-kya"]||[]).push([[19],{124:function(e,t,a){"use strict";a.r(t);var n=a(44),s=a(12),i=a(13),o=a(15),l=a(14),r=a(0),c=a.n(r),u=a(1),m=a(6),d=a(45),h=a.n(d),p=a(43),g=a(57),v=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).db=p.a.firestore(),e.isMount=!1,e.state={email:"",password:"",access:!1,loading:!0},e.handleSubmit=function(t){t.preventDefault();var a=t.target.classList;a.add("loading"),p.a.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(e){"student"===e.user.displayName||"cr"===e.user.displayName?(a.remove("loading"),h.a.toast({html:"Logged In Successfully",classes:"toast success-toast"}),window.location.pathname="/student"):(a.remove("loading"),h.a.toast({html:"Invalid Email/Password",classes:"toast error-toast"}))})).catch((function(e){"The password is invalid or the user does not have a password."===e.message||"There is no user record corresponding to this identifier. The user may have been deleted."===e.message?(a.remove("loading"),h.a.toast({html:"Invalid Email/Password",classes:"toast error-toast"})):(a.remove("loading"),h.a.toast({html:e.message,classes:"toast error-toast"}))}))},e.handleChange=function(t){var a=t.target.name,s=t.target.value;e.isMount&&e.setState(Object(n.a)({},a,s))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.isMount=!0,this.checkAuth()}},{key:"UNSAFE_componentWillMount",value:function(){this.isMount=!1}},{key:"checkAuth",value:function(){var e=this;p.a.auth().onAuthStateChanged((function(t){t&&(e.isMount&&e.setState({email:t.email}),"student"===t.displayName&&e.isMount&&e.setState({access:!0,type:"Student"}),"cr"===t.displayName&&e.isMount&&e.setState({access:!0,type:"CR"}))})),setTimeout((function(){e.isMount&&e.setState({loading:!1})}),1e3)}},{key:"render",value:function(){return this.state.email&&this.state.access?c.a.createElement(u.a,{to:"/student"}):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"container-login mx-auto"},c.a.createElement("div",{className:"con-login"},c.a.createElement("h1",null,"Login"),c.a.createElement("form",{onSubmit:this.handleSubmit,style:{width:"100%"}},c.a.createElement("div",{className:"con-inputs mt-4"},c.a.createElement("div",{className:"con-input"},c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{placeholder:"Email",id:"email",type:"email",value:this.state.email,name:"email",required:!0,onChange:this.handleChange})),c.a.createElement("div",{className:"con-input"},c.a.createElement("label",{htmlFor:"password"},"Password:"),c.a.createElement("input",{placeholder:"Password",id:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,required:!0}),c.a.createElement(g.a,null)),c.a.createElement("div",{className:"con-new"},"New here? ",c.a.createElement(m.b,{to:"/student/signup"},"Sign Up")),c.a.createElement("footer",null,c.a.createElement("button",{type:"submit",className:"btn-login"},"Log In"))))))))}}]),a}(r.Component);t.default=v},43:function(e,t,a){"use strict";var n=a(50);a(51),a(53),a(52);n.a.initializeApp({apiKey:"AIzaSyBtqTsT1XUqRQUREtKJ0QSnmHd5YvExHw8",authDomain:"layaak-web.firebaseapp.com",projectId:"layaak-web",storageBucket:"layaak-web.appspot.com",messagingSenderId:"1093914758055",appId:"1:1093914758055:web:b614caead750078d920482"}),t.a=n.a},44:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},57:function(e,t,a){"use strict";var n=a(0),s=a.n(n);t.a=function(){return s.a.createElement("i",{className:"fa fa-eye",onClick:function(e){var t=document.getElementById("password"),a="password"===t.getAttribute("type")?"text":"password";t.setAttribute("type",a),e.target.classList.toggle("fa-eye-slash")}})}}}]);
//# sourceMappingURL=19.d12bb361.chunk.js.map