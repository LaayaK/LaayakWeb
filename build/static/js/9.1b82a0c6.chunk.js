(this["webpackJsonplink-aya-kya"]=this["webpackJsonplink-aya-kya"]||[]).push([[9,12],{127:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(13),r=a(15),s=a(14),o=a(0),c=a.n(o),i=a(58),u=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.getDetails=function(){var t=e.props.details,a=t.name,n=t.college;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ann-preview",style:{display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement("h3",null,c.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\udc68\ud83c\udffb\u200d\ud83c\udfeb"))),c.a.createElement("div",{className:"ann-info text-left my-auto"},c.a.createElement("h3",null,"Name: ",c.a.createElement("strong",null,a)),c.a.createElement("h3",null,"College: ",c.a.createElement("strong",null,n))))},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},c.a.createElement("div",{className:"up mx-auto"},this.getDetails()))}}]),a}(o.Component),m=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},c.a.createElement("div",{className:"up mx-auto"},c.a.createElement("div",{className:"ann-preview"},c.a.createElement("ul",{style:{listStyle:"none"}},this.props.class.subjects.map((function(e){return c.a.createElement("h4",{key:e.code+e.name},c.a.createElement("li",null,e.name))})))),c.a.createElement("div",{className:"ann-info text-left"},c.a.createElement("h4",null,c.a.createElement("strong",null,"Course: "),this.props.class.details.course),c.a.createElement("h4",null,c.a.createElement("strong",null,"Branch: "),this.props.class.details.branch),c.a.createElement("h4",null,c.a.createElement("strong",null,"Semester: "),this.props.class.details.sem),c.a.createElement("h4",null,c.a.createElement("strong",null,"CR: "),this.props.class.details.crName),c.a.createElement("span",{className:"btn link-btn btn-primary mt-2 float-right",onClick:this.props.onShow}," ","More Info"," "))))}}]),a}(o.Component),d=a(75),p=a.n(d),f=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.renderLecture=function(){var t=e.props.lecture,a=t.subject,n=t.startTime,l=t.endTime,r=t.link,s=t.text,o=t.branch,i=t.sem,u=t.group,m=n.toDate().getHours(),d=n.toDate().getMinutes(),f="am";12===m&&(f="pm"),m>12&&(m-=12,f="pm");var h=d<10?"0"+String(d):String(d),g=l.toDate().getHours(),b=l.toDate().getMinutes(),E="am";12===g&&(E="pm"),g>12&&(g-=12,E="pm");var v=b<10?"0"+String(b):String(b);return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"lec lec-hover",id:n+r},c.a.createElement("div",{className:"lec-preview"},c.a.createElement("div",{className:"time",style:{height:"148px"}},c.a.createElement("h3",null,m," : ",h," ",f),c.a.createElement("div",{className:"mb-2",style:{display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement("span",{className:"vertical-line",style:{height:"20px"}})),c.a.createElement("h3",null,g," : ",v," ",E)),c.a.createElement("hr",null),c.a.createElement("br",null),c.a.createElement("a",{className:"lec-btn btn-primary mt-2",href:r,target:"_blank",rel:"noopener noreferrer"},"Join now")),c.a.createElement("div",{className:"lec-info text-left"},c.a.createElement("div",{className:"main-data",style:{height:"148px"}},c.a.createElement("h2",null,c.a.createElement("strong",null,a)),c.a.createElement("h4",null,"Branch: ",o),c.a.createElement("h4",null,"Semester: ",i),c.a.createElement("h4",null,"Group: ",u||"All")),c.a.createElement("hr",null),c.a.createElement("h5",null,c.a.createElement("strong",null,"Description: "),c.a.createElement(p.a,{lines:1,more:"More",less:"Less",anchorClass:"",onClick:function(){return document.getElementById(n+r).classList.toggle("lec-hover")},expanded:!1},s||"No Info Provided")),c.a.createElement("div",{style:{position:"absolute",top:"5%",right:"5%"}},c.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.lecture)}},c.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c"))))))},e}return Object(l.a)(a,[{key:"render",value:function(){return this.renderLecture()}}]),a}(o.Component),h=a(44),g=a(43),b=a(47),E=a(45),v=a.n(E),y=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).isMount=!1,e.state={show:!1,link:"",branch:"",semester:"",subjectName:"",subjectCode:"",classId:"",text:"",group:""},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.getForm=function(){return c.a.createElement("div",null,c.a.createElement("form",{className:"m-2",onSubmit:e.callAddLecture},c.a.createElement("div",{className:"col-sm-7",style:{margin:"auto"}},c.a.createElement("label",null,"Branch: "),c.a.createElement("select",{className:"add-lec-subject form-control text-center",name:"branch",onChange:e.handleChange,required:!0},c.a.createElement("option",{className:"add-lec-opns",value:""},"--Choose Branch---"),e.props.classesTeaching.map((function(e){return c.a.createElement("option",{className:"add-lec-opns",key:e.details.classId+e.details.subject,value:e.details.branch},e.details.branch)})))),c.a.createElement("div",{className:"col-sm-7",style:{margin:"auto"}},c.a.createElement("label",null,"Semester: "),c.a.createElement("select",{className:"add-lec-subject form-control text-center",name:"semester",onChange:e.handleSemChange,required:!0},c.a.createElement("option",{className:"add-lec-opns",value:""},"--Choose Semester---"),e.props.classesTeaching.filter((function(t){return t.details.branch===e.state.branch})).map((function(e){return c.a.createElement("option",{className:"add-lec-opns",key:e.details.classId,value:e.details.classId},e.details.sem)})))),c.a.createElement("div",{className:"col-sm-7",style:{margin:"auto"}},c.a.createElement("label",null,"Subject: "),c.a.createElement("select",{className:"add-lec-subject form-control text-center",name:"subject",onChange:e.handleSubChange,required:!0},c.a.createElement("option",{className:"add-lec-opns",value:""},"--Choose Subject---"),e.state.classId&&e.props.classesTeaching.find((function(t){return t.details.classId===e.state.classId})).subjects.map((function(e){return c.a.createElement("option",{className:"add-lec-opns",key:e.code+e.name,value:e.code},e.name)})))),c.a.createElement("div",{className:"col-md-7 mb-3",style:{margin:"auto"}},c.a.createElement("label",null,"Link:"),c.a.createElement("input",{type:"url",className:"form-control",id:"link",name:"link",value:e.state.link,onChange:e.handleChange,required:!0})),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col-sm-4"},c.a.createElement("label",null,"Start Time"),c.a.createElement("input",{className:"form-control",type:"datetime-local",name:"startTime",min:(new Date).toJSON().split(":")[0]+":"+(new Date).toJSON().split(":")[1],id:"startTime",onChange:e.handleChange,required:!0})),c.a.createElement("div",{className:"col-sm-4"},c.a.createElement("label",null,"End Time"),c.a.createElement("input",{className:"form-control",type:"datetime-local",name:"endTime",min:(new Date).toJSON().split(":")[0]+":"+(new Date).toJSON().split(":")[1],id:"endTime",onChange:e.handleChange,required:!0})),c.a.createElement("div",{className:"col-sm-4"},c.a.createElement("label",null,"Group"),c.a.createElement("input",{className:"form-control",type:"text",name:"group",id:"group",onChange:e.handleChange,placeholder:"leave blank for whole class!"}))),c.a.createElement("label",null,"Description:"),c.a.createElement("textarea",{className:"form-control col-sm-10",id:"text",style:{margin:"auto"},value:e.state.text,name:"text",onChange:e.handleChange,placeholder:"no info provided"})),c.a.createElement("button",{className:"btn btn-success",type:"submit"},"Add Lecture")))},e.handleSubChange=function(t){var a=t.target.value,n=e.props.classesTeaching.find((function(t){return t.details.classId===e.state.classId})).subjects.find((function(e){return e.code===a})).name;e.setState({subjectName:n,subjectCode:a})},e.handleSemChange=function(t){var a=t.target.value,n={};e.props.classesTeaching.forEach((function(e){e.details.classId===a&&(n=e.details)})),e.setState({semester:n.sem,classId:n.classId})},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(h.a)({},a,n))},e.callAddLecture=function(t){t.preventDefault();var a=Date.parse(e.state.startTime),n=Date.parse(e.state.endTime),l=new Date(a),r=new Date(n);if(a<Date.now()-6e4||n<=a)v.a.toast({html:"Enter Valid Class Timings",classes:"toast error-toast"});else{var s={subjectName:e.state.subjectName,subjectCode:e.state.subjectCode,classId:e.state.classId,startTime:g.a.firestore.Timestamp.fromDate(l),endTime:g.a.firestore.Timestamp.fromDate(r),link:e.state.link,text:e.state.text,group:e.state.group};e.setState({show:!1}),e.props.addLecture(s),e.setState({link:"",subject:"",subjectCode:"",startTime:new Date(0),endTime:new Date(0),text:"",group:""})}},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"btn-info btn-lg mb-4",onClick:this.showModal},"Add Lecture +"),c.a.createElement(b.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},c.a.createElement(b.a.Header,{closeButton:!0},c.a.createElement(b.a.Title,null,c.a.createElement("h3",null,"Add Lecture Details:"))),c.a.createElement(b.a.Body,null,this.getForm())))}}]),a}(o.Component),N=a(55),w=a(49),O=a(98),j=g.a.firestore(),k=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).isMount=!1,e.state={classesTeaching:[],details:[],lecturesToday:[],user:g.a.auth().currentUser,loading:!0,showDetails:!1,classId:null},e.claRef=j.collection("classes"),e.teachRef=j.collection("teachers").doc(e.state.user.email),e.teachClassRef=e.teachRef.collection("classes"),e.handleSignOut=function(){g.a.auth().signOut().then((function(){v.a.toast({html:"Signed Out",classes:"toast success-toast"}),window.location.reload()})).catch((function(e){v.a.toast({html:e.message,classes:"toast error-toast"})}))},e.addLecture=function(t){var a={subject:t.subjectName,subjectCode:t.subjectCode,teacher:e.state.details.name,link:t.link,startTime:t.startTime,endTime:t.endTime,group:t.group,text:t.text};e.claRef.doc(t.classId).collection("lectures").doc("lecturesToday").update({lectures:g.a.firestore.FieldValue.arrayUnion(a)}),e.setState({lecturesToday:[]}),setTimeout((function(){window.location.reload()}),200)},e.handleDetailsEdit=function(){},e.deleteLecture=function(t){var a={subject:t.subject,subjectCode:t.subjectCode,teacher:t.teacher,group:t.group,link:t.link,startTime:t.startTime,endTime:t.endTime,text:t.text};e.claRef.doc(t.classId).collection("lectures").doc("lecturesToday").update({lectures:g.a.firestore.FieldValue.arrayRemove(a)}),e.setState({lecturesToday:[]}),setTimeout((function(){window.location.reload()}),200)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.isMount=!0,this.teachRef.onSnapshot((function(t){e.isMount&&e.setState({details:t.data().details,loading:!1})})),this.teachClassRef.onSnapshot((function(t){t.docs.forEach((function(t){var a=e.state.classesTeaching;a.push(t.data()),e.isMount&&e.setState({classesTeaching:a}),e.claRef.doc(t.id).collection("lectures").doc("lecturesToday").onSnapshot((function(a){var n=e.state.lecturesToday;a.data()&&a.data().lectures.forEach((function(e){t.data().subjects.forEach((function(a){e.subjectCode===a.code&&n.push(Object(i.a)(Object(i.a)({},e),{},{branch:t.data().details.branch,sem:t.data().details.sem,classId:t.data().details.classId}))}))})),e.isMount&&e.setState({lecturesToday:n})}))}))}))}},{key:"UNSAFE_componentWillMount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e=this,t=c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"code-head-btn"},c.a.createElement(w.a,null),c.a.createElement("h1",{className:"mainPageHeading mx-auto"},"Teacher Control Center!"),c.a.createElement("i",{style:{fontSize:"30px",cursor:"pointer"},onClick:this.handleSignOut,className:"float-md-right mb-2 fa fa-sign-out"})),c.a.createElement("h2",{id:"Details",className:"subHeading"},"Your Details:"," "),c.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),c.a.createElement(u,{details:this.state.details,onEdit:this.handleDetailsEdit}),c.a.createElement("h2",{id:"Lectures",className:"subHeading"},"Lectures Today:"),c.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),c.a.createElement(y,{addLecture:this.addLecture,classesTeaching:this.state.classesTeaching}),c.a.createElement("div",{className:"lectures-row"},0===this.state.lecturesToday.length?c.a.createElement("h4",{style:{textAlign:"center",width:"100%"}},"There are no lectures for the day yet!"):this.state.lecturesToday.map((function(t){return c.a.createElement(f,{lecture:t,key:t.startTime+t.classId,onDelete:e.deleteLecture})}))),c.a.createElement("h2",{id:"Classes",className:"subHeading"},"Classes You Teach:"),c.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),c.a.createElement("div",{className:"my-flex-container"},0===this.state.classesTeaching.length?c.a.createElement("h4",{style:{textAlign:"center",width:"100%"}},"No classes are assigned to you yet! Please contact the CR of respective class"):this.state.classesTeaching.map((function(t){return c.a.createElement(m,{key:t.details.classId,class:t,onShow:function(){return e.setState({showDetails:!0,classId:t.details.classId})}})}))),c.a.createElement(N.a,{paths:["Details","Lectures","Classes"]}));return this.state.showDetails?c.a.createElement(O.default,{classCode:this.state.classId,onHide:function(){return e.setState({showDetails:!1,classId:null})}}):t}}]),a}(o.Component),x=a(16),C=a(1),S=a(72),T=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).isMount=!1,e.state={user:null,verified:!1,loading:!0},e.authListener=function(){g.a.auth().onAuthStateChanged((function(t){t&&"teacher"===t.displayName&&e.isMount&&e.setState({verified:!0}),e.isMount&&e.setState({user:t})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.isMount=!0,this.authListener()}},{key:"UNSAFE_componentWillMount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e,t=this;if(this.state.loading&&(e=c.a.createElement(x.a,null)),!this.state.loading){if(!this.state.user)return c.a.createElement(C.a,{to:"/teacher/login"});e=this.state.verified?c.a.createElement(k,null):c.a.createElement(S.a,null)}return setTimeout((function(){t.isMount&&t.setState({loading:!1})}),2e3),e}}]),a}(o.Component);t.default=T},43:function(e,t,a){"use strict";var n=a(50);a(51),a(53),a(52);n.a.initializeApp({apiKey:"AIzaSyBtqTsT1XUqRQUREtKJ0QSnmHd5YvExHw8",authDomain:"layaak-web.firebaseapp.com",projectId:"layaak-web",storageBucket:"layaak-web.appspot.com",messagingSenderId:"1093914758055",appId:"1:1093914758055:web:b614caead750078d920482"}),t.a=n.a},44:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},49:function(e,t,a){"use strict";var n=a(12),l=a(13),r=a(15),s=a(14),o=a(0),c=a.n(o),i=(a(56),function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={mode:document.getElementsByTagName("Body")[0].classList[0]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"float-md-left w-auto mb-2 input-group custom-control custom-switch"},c.a.createElement("label",{id:"switch",className:"switch"},c.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:function(){"dark"===e.state.mode?localStorage.setItem("mode","light"):localStorage.setItem("mode","dark"),document.getElementsByTagName("Body")[0].classList.replace(e.state.mode,localStorage.getItem("mode")),e.setState({mode:localStorage.getItem("mode")})},checked:"dark"===this.state.mode,id:"dark"}),c.a.createElement("span",{className:"slider round"})))}}]),a}(o.Component));t.a=i},55:function(e,t,a){"use strict";var n=a(12),l=a(13),r=a(15),s=a(14),o=a(0),c=a.n(o),i=(a(59),function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("nav",{className:"b-nav"},c.a.createElement("ul",{className:"b-nav-links"},this.props.paths.map((function(e){return c.a.createElement("li",{key:e},c.a.createElement("a",{href:"#"+e,className:"b-nav-link"},e))}))))}}]),a}(o.Component));t.a=i},56:function(e,t,a){},58:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(44);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},59:function(e,t,a){},72:function(e,t,a){"use strict";var n=a(12),l=a(13),r=a(15),s=a(14),o=a(0),c=a.n(o),i=a(6),u=a(45),m=a.n(u),d=a(43),p=(a(73),function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleSignOut=function(){d.a.auth().signOut().then((function(){window.location.reload()})).catch((function(e){m.a.toast({html:e.message,classes:"toast error-toast"})}))},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"403"},c.a.createElement("section",{className:"page_403"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 "},c.a.createElement("div",{className:"col-sm-offset-1  text-center"},c.a.createElement("h1",{className:"text-center"},"403"),c.a.createElement("div",{className:"four_zero_three_bg"}),c.a.createElement("div",{className:"contant_box_403"},c.a.createElement("h3",{className:"h2"},"Access Denied"),c.a.createElement("h5",null,c.a.createElement("button",{className:"btn btn-primary mx-2",onClick:this.handleSignOut},"Sign In"),"to gain access / go",c.a.createElement(i.b,{className:"btn btn-success mx-2",to:"/"},"Home")))))))))}}]),a}(o.Component));t.a=p},73:function(e,t,a){},74:function(e,t,a){"use strict";var n=a(12),l=a(13),r=a(15),s=a(14),o=a(0),c=a.n(o),i=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.getDetails=function(){var t=e.props.details,a=t.branch,n=t.college,l=t.course,r=t.sem,s=t.crName;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ann-preview",style:{display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement("img",{alt:"details",src:"https://cdn1.iconfinder.com/data/icons/education-set-01/512/document-info-512.png"})),c.a.createElement("div",{className:"ann-info text-left"},c.a.createElement("p",null,"Branch: ",c.a.createElement("strong",null,a)),c.a.createElement("p",null,"College: ",c.a.createElement("strong",null,n)),c.a.createElement("p",null,"Course: ",c.a.createElement("strong",null,l)),c.a.createElement("p",null,"Semester: ",c.a.createElement("strong",null,r)),c.a.createElement("p",null,"Class Representative: ",c.a.createElement("strong",null,s))))},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},c.a.createElement("div",{className:"up mx-auto"},this.getDetails()))}}]),a}(o.Component);t.a=i},75:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var r=n?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(a,l,r):a[l]=e[l]}a.default=e,t&&t.set(e,a);return a}(a(0)),r=a(8),s=(n=a(76))&&n.__esModule?n:{default:n};function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=f(e);if(t){var l=f(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return d(this,a)}}function d(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,a,n,r=m(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),h(p(t=r.call(this,e)),"_isMounted",!1),h(p(t),"handleTruncate",(function(e){t._isMounted&&e!==t.state.truncated&&(t.setState({truncated:e}),e&&t.truncateRef.onResize())})),h(p(t),"toggleLines",(function(e){e.preventDefault();var a=p(t);t._isMounted&&t.setState({expanded:!t.state.expanded},(function(){a.props.onClick&&a.props.onClick(a.state.expanded)}))})),t.state={expanded:!1,truncated:!1},t}return t=o,(a=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.setState({expanded:this.props.expanded})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.more,r=t.less,o=t.lines,c=t.anchorClass,i=t.width,u=t.keepNewLines,m=this.state,d=m.expanded,p=m.truncated;return l.default.createElement("div",null,l.default.createElement(s.default,{width:i,lines:!d&&o,ellipsis:l.default.createElement("span",null,"..."," ",l.default.createElement("a",{href:"#",className:c,onClick:this.toggleLines},n)),onTruncate:this.handleTruncate,ref:function(t){return e.truncateRef=t}},u?a.split("\n").map((function(e,t,a){return e=l.default.createElement("span",{key:t},e),t===a.length-1?e:[e,l.default.createElement("br",{key:t+"br"})]})):a),!p&&d&&l.default.createElement("span",null," ",l.default.createElement("a",{href:"#",className:c,onClick:this.toggleLines},r)))}}])&&i(t.prototype,a),n&&i(t,n),o}(l.Component);h(g,"defaultProps",{lines:3,more:"Show more",less:"Show less",anchorClass:"",onClick:void 0,expanded:!1,width:0,keepNewLines:!1}),h(g,"propTypes",{children:r.PropTypes.node,lines:r.PropTypes.number,more:r.PropTypes.node,less:r.PropTypes.node,anchorClass:r.PropTypes.string,onClick:r.PropTypes.func,expanded:r.PropTypes.bool,width:r.PropTypes.number,keepNewLines:r.PropTypes.bool});var b=g;t.default=b},76:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),l=r(a(8));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=h(e);if(t){var l=h(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return p(this,a)}}function p(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,a,l,r=d(s);function s(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i(this,s),g(f(e=r.call.apply(r,[this].concat(a))),"state",{}),g(f(e),"extractReplaceLinksKeys",(function(t){var a=f(e),n=0;return e.replacedLinks=[],t.replace(/(<a[\s]+([^>]+)>((?:.(?!\<\/a\>))*.)<\/a>)/g,(function(){var e=Array.prototype.slice.call(arguments,1,4);e.key="["+"@".repeat(e[2].length-1)+"="+n+++"]",a.replacedLinks.push(e),t=t.replace(e[0],e.key)})),t})),g(f(e),"restoreReplacedLinks",(function(t){return e.replacedLinks.forEach((function(e){t=t.replace(e.key,e[0])})),e.createMarkup(t)})),g(f(e),"innerText",(function(t){var a=document.createElement("div"),n="innerText"in window.HTMLElement.prototype?"innerText":"textContent",l=t.innerHTML.replace(/\r\n|\r|\n/g," ");a.innerHTML=e.extractReplaceLinksKeys(l);var r=a[n],s=document.createElement("div");return s.innerHTML="foo<br/>bar","foo\nbar"!==s[n].replace(/\r\n|\r/g,"\n")&&(a.innerHTML=a.innerHTML.replace(/<br.*?[\/]?>/gi,"\n"),r=a[n]),r})),g(f(e),"onResize",(function(){e.calcTargetWidth()})),g(f(e),"onTruncate",(function(t){var a=e.props.onTruncate;"function"===typeof a&&(e.timeout=window.requestAnimationFrame((function(){a(t)})))})),g(f(e),"calcTargetWidth",(function(t){var a=f(e),n=a.elements.target,l=a.calcTargetWidth,r=a.canvasContext,s=a.props.width;if(n){var o=s||Math.floor(n.parentNode.getBoundingClientRect().width);if(!o)return window.requestAnimationFrame((function(){return l(t)}));var c=window.getComputedStyle(n),i=[c["font-weight"],c["font-style"],c["font-size"],c["font-family"]].join(" ");r.font=i,e.setState({targetWidth:o},t)}})),g(f(e),"measureWidth",(function(t){return e.canvasContext.measureText(t).width})),g(f(e),"ellipsisWidth",(function(e){return e.offsetWidth})),g(f(e),"trimRight",(function(e){return e.replace(/\s+$/,"")})),g(f(e),"createMarkup",(function(e){return n.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}})})),g(f(e),"getLines",(function(){for(var t=f(e),a=t.elements,l=t.props,r=l.lines,s=l.ellipsis,o=l.trimWhitespace,c=t.state.targetWidth,i=t.innerText,u=t.measureWidth,m=t.onTruncate,d=t.trimRight,p=t.renderLine,h=t.restoreReplacedLinks,g=[],b=i(a.text).split("\n").map((function(e){return e.split(" ")})),E=!0,v=e.ellipsisWidth(e.elements.ellipsis),y=1;y<=r;y++){var N=b[0];if(0!==N.length){var w=N.join(" ");if(u(w)<=c&&1===b.length){E=!1,w=h(w),g.push(w);break}if(y===r){for(var O=N.join(" "),j=0,k=O.length-1;j<=k;){var x=Math.floor((j+k)/2);u(O.slice(0,x+1))+v<=c?j=x+1:k=x-1}var C=O.slice(0,j);if(o)for(C=d(C);!C.length&&g.length;){C=d(g.pop())}"]["===C.substr(C.length-2)&&(C=C.substring(0,C.length-1)),C=h(C),w=n.default.createElement("span",null,C,s)}else{for(var S=0,T=N.length-1;S<=T;){var A=Math.floor((S+T)/2);u(N.slice(0,A+1).join(" "))<=c?S=A+1:T=A-1}if(0===S){y=r-1;continue}w=h(w=N.slice(0,S).join(" ")),b[0].splice(0,S)}g.push(w)}else g.push(),b.shift(),y--}return m(E),g.map(p)})),g(f(e),"renderLine",(function(e,t,a){if(t===a.length-1)return n.default.createElement("span",{key:t},e);var l=n.default.createElement("br",{key:t+"br"});return e?[n.default.createElement("span",{key:t},e),l]:l})),g(f(e),"styles",{ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}}),e.elements={},e.replacedLinks=[],e}return t=s,(a=[{key:"componentDidMount",value:function(){var e=this.elements.text,t=this.calcTargetWidth,a=this.onResize,n=document.createElement("canvas");this.canvasContext=n.getContext("2d"),t((function(){e&&e.parentNode.removeChild(e)})),window.addEventListener("resize",a)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.forceUpdate(),this.props.width!==e.width&&this.calcTargetWidth()}},{key:"componentWillUnmount",value:function(){var e=this.elements.ellipsis,t=this.onResize,a=this.timeout;e.parentNode.removeChild(e),window.removeEventListener("resize",t),window.cancelAnimationFrame(a)}},{key:"render",value:function(){var e,t=this,a=this.elements.target,l=this.props,r=l.children,s=l.ellipsis,i=l.lines,u=c(l,["children","ellipsis","lines"]),m=this.state.targetWidth,d=this.getLines,p=this.onTruncate;return"undefined"!==typeof window&&!(!a||!m)&&(i>0?e=d():(e=r,p(!1))),delete u.onTruncate,delete u.trimWhitespace,n.default.createElement("span",o({},u,{ref:function(e){t.elements.target=e}}),n.default.createElement("span",null,e),n.default.createElement("span",{ref:function(e){t.elements.text=e}},r),n.default.createElement("span",{ref:function(e){t.elements.ellipsis=e},style:this.styles.ellipsis},s))}}])&&u(t.prototype,a),l&&u(t,l),s}(n.default.Component);t.default=b,g(b,"propTypes",{children:l.default.node,ellipsis:l.default.node,lines:l.default.oneOfType([l.default.oneOf([!1]),l.default.number]),trimWhitespace:l.default.bool,width:l.default.number,onTruncate:l.default.func}),g(b,"defaultProps",{children:"",ellipsis:"\u2026",lines:1,trimWhitespace:!1,width:0})},98:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(13),r=a(15),s=a(14),o=a(0),c=a.n(o),i=a(74),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.displayUpdate=function(){switch(e.props.announcement.type){case"announcement":return e.displayAnnouncement();case"poll":return e.displayPoll();case"link":return e.displayLink();default:return}},e.displayAnnouncement=function(){var t=e.props.announcement,a=t.dateAndTime,n=t.text,l=a.toDate(),r=l.getDate(),s=u[l.getMonth()-1],o=l.getFullYear(),i=l.getHours(),m="00",d=l.getMinutes();return m=d<10?"0"+String(d):String(d),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ann-preview"},c.a.createElement("h3",null,c.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\udce2"))),c.a.createElement("div",{className:"ann-info text-left"},c.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},s," ",r,", ",o," at ",i,":",m),c.a.createElement("div",{style:{minHeight:"50%",display:"flex",alignItems:"center"}},c.a.createElement("h4",null,n)),c.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},e.createButtons())))},e.displayLink=function(){var t=e.props.announcement,a=t.dateAndTime,n=t.text,l=t.link,r=a.toDate(),s=r.getDate(),o=u[r.getMonth()-1],i=r.getFullYear(),m=r.getHours(),d="00",p=r.getMinutes();return d=p<10?"0"+String(p):String(p),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ann-preview"},c.a.createElement("h3",null,c.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\udd17"))),c.a.createElement("div",{className:"ann-info text-left"},c.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},o," ",s,", ",i," at ",m,":",d),c.a.createElement("h4",null,n),c.a.createElement("a",{className:"btn link-btn btn-primary mt-2 float-right",href:l,target:"_blank",rel:"noopener noreferrer"},"Visit Link"),c.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},e.createButtons())))},e.displayPoll=function(){var t=e.props.announcement,a=t.dateAndTime,n=t.text,l=t.yesCount,r=t.yesOption,s=t.noCount,o=t.noOption,i=a.toDate(),m=i.getDate(),d=u[i.getMonth()-1],p=i.getFullYear(),f=i.getHours(),h="00",g=i.getMinutes();h=g<10?"0"+String(g):String(g);var b=100*l/(s+l);Number.isNaN(b)&&(b=0);var E=100*s/(s+l);return Number.isNaN(E)&&(E=0),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ann-preview"},c.a.createElement("h3",null,c.a.createElement("span",{role:"img",className:"emoji","aria-label":"announcement"},"\ud83d\uddf3\ufe0f"))),c.a.createElement("div",{className:"ann-info text-left"},c.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},d," ",m,", ",p," at ",f,":",h),c.a.createElement("h4",null,n),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("table",{className:"table"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,r),c.a.createElement("td",null,o)),c.a.createElement("tr",null,c.a.createElement("td",null,l),c.a.createElement("td",null,s)))))),c.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},e.createButtons())))},e.getClass=function(){var t="text-left p-4 mb-4 ";switch(e.props.announcement.type){case"announcement":t+="announcement-card ";break;case"poll":t+="poll-card";break;case"link":t+="link-card";break;default:return}return t},e.createButtons=function(){return c.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.announcement)}},c.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c"))},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},c.a.createElement("div",{className:"up mx-auto"},this.displayUpdate()))}}]),a}(o.Component),d=a(44),p=a(43),f=a(47),h=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={show:!1,text:""},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",background:"pink",color:"black",width:"80%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("label",{className:"m-2 mb-0",style:{fontSize:"18px"}},"Announcement:")),c.a.createElement("input",{type:"text",className:"form-control mr-2",placeholder:"Enter your main text here...",value:e.state.text,name:"text",required:!0,onChange:e.handleChange})),c.a.createElement("button",{className:"btn btn-success m-2",type:"submit"},"Add"))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(d.a)({},a,n))},e.callAddAnnouncement=function(t){t.preventDefault();var a={dateAndTime:p.a.firestore.Timestamp.fromDate(new Date),type:"announcement",text:e.state.text,isOfficial:!0};e.hideModal(),e.props.AddAnnouncement(a),e.setState({text:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Add Announcement"),c.a.createElement(f.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},c.a.createElement(f.a.Header,{closeButton:!0},c.a.createElement(f.a.Title,null,c.a.createElement("h3",{className:"mt-2"},"Add Announcement Details:"))),c.a.createElement(f.a.Body,null,c.a.createElement("form",{onSubmit:this.callAddAnnouncement},this.getForm()))))}}]),a}(o.Component),g=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={show:!1,yesOption:"",noOption:"",text:""},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",background:"pink",color:"black",width:"60%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Poll Text:"),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("input",{type:"text",className:"form-control",id:"formGroupExampleInput",placeholder:"Poll Details",name:"text",required:!0,value:e.state.text,onChange:e.handleChange}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"First Option:"),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"First option",name:"yesOption",required:!0,value:e.state.yesOption,onChange:e.handleChange}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Second Option:"),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Second option",name:"noOption",required:!0,value:e.state.noOption,onChange:e.handleChange}))),c.a.createElement("button",{className:"btn btn-success m-2",onClick:e.hideModal},"Add poll"))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(d.a)({},a,n))},e.callAddPoll=function(t){t.preventDefault();var a={dateAndTime:p.a.firestore.Timestamp.fromDate(new Date),type:"poll",text:e.state.text,yesOption:e.state.yesOption,noOption:e.state.noOption,yesCount:0,noCount:0,isOfficial:!0};e.props.addPoll(a),e.setState({text:"",yesOption:"",noOption:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Add Poll"),c.a.createElement(f.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},c.a.createElement(f.a.Header,{closeButton:!0},c.a.createElement(f.a.Title,null,c.a.createElement("h3",{className:"mt-2"},"Add Poll Details:"))),c.a.createElement(f.a.Body,null,c.a.createElement("form",{onSubmit:this.callAddPoll},this.getForm()))))}}]),a}(o.Component),b=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={show:!1,link:"",text:""},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.styles={position:"fixed",background:"pink",color:"black",width:"60%",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:1,boxShadow:"2px 2px 10px 10px rgba(255, 31, 255, 0.226)"},e.getForm=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Link:"),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("input",{type:"url",className:"form-control",placeholder:"https://link.com",name:"link",value:e.state.link,required:!0,onChange:e.handleChange}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Description:"),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"about the link",name:"text",value:e.state.text,required:!0,onChange:e.handleChange}))))},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(d.a)({},a,n))},e.callAddAnnouncement=function(t){t.preventDefault();var a={dateAndTime:p.a.firestore.Timestamp.fromDate(new Date),type:"link",text:e.state.text,link:e.state.link,isOfficial:!0};e.props.addLink(a),e.setState({text:"",link:""}),e.hideModal()},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Add Link"),c.a.createElement(f.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},c.a.createElement(f.a.Header,{closeButton:!0},c.a.createElement(f.a.Title,null,c.a.createElement("h3",{className:"mt-2"},"Add Link Details:"))),c.a.createElement(f.a.Body,null,c.a.createElement("form",{onSubmit:this.callAddAnnouncement},this.getForm(),c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-success m-2",type:"submit"},"Add Link"))))))}}]),a}(o.Component),E=a(55),v=a(49),y=a(45),N=a.n(y),w=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={show:!1,url:"",title:"",fileName:"",progress:0,assign:{}},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e.showHideClassName=function(){return e.state.show?"":"d-none"},e.browseFile=function(t){var a=t.target.files[0];a&&e.setState({assign:a})},e.uploadAssign=function(){var t=e.state.assign;if(t.name){document.getElementById("progress").classList.remove("hide");var a=p.a.storage().ref("assignment/".concat(e.props.classCode,"/").concat(t.name));a.put(t).on("state_changed",(function(t){var a=t.bytesTransferred/t.totalBytes*100;!function(t){t&&e.setState({progress:t})}(a)}),(function(e){}),(function(){N.a.toast({html:"Uploaded Successfully",classes:"toast success-toast"}),a.getDownloadURL().then((function(a){!function(t,a){t&&a&&e.setState({url:t,fileName:a})}(a,t.name)})).catch((function(e){return console.log(e)}))}))}},e.getForm=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Title")),c.a.createElement("input",{type:"text",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",placeholder:"Title / Subject",onChange:function(t){e.setState({title:t.target.value})},name:"title",required:!0})),c.a.createElement("div",{className:"custom-file"},c.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile02",onChange:e.browseFile,required:!0}),c.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile02","aria-describedby":"inputGroupFileAddon02"},e.state.assign.name?e.state.assign.name:"Choose File")),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("span",{className:"input-group-text",id:"inputGroupFileAddon02",onClick:e.uploadAssign,style:{cursor:"pointer"}},"Upload")),c.a.createElement("div",{className:"input-group"},c.a.createElement("progress",{id:"progress",className:"custom-progress-bar hide",value:e.state.progress,max:"100"}," "))),c.a.createElement("button",{className:"btn btn-success m-2",type:"submit"},"Add Assignment"))},e.callAddAssign=function(t){if(t.preventDefault(),e.state.fileName){var a=e.state,n=a.url,l=a.title,r=a.fileName,s={dateAndTime:p.a.firestore.Timestamp.fromDate(new Date),url:n,title:l,fileName:r,isOfficial:!0};e.props.addAssign(s),e.setState({url:"",title:"",fileName:"",assign:{},show:!1}),e.hideModal()}else N.a.toast({html:"Please upload file first",classes:"toast error-toast"})},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"btn-lg btn-info m-1",onClick:this.showModal},"Upload Assignment"),c.a.createElement(f.a,{show:this.state.show,onHide:this.hideModal,dialogClassName:"modal-dialog-scrollable modal-lg"},c.a.createElement(f.a.Header,{closeButton:!0},c.a.createElement(f.a.Title,null,c.a.createElement("h3",{className:"mt-2"},"Add Assignment Details:"))),c.a.createElement(f.a.Body,null,c.a.createElement("form",{onSubmit:this.callAddAssign},this.getForm()))))}}]),a}(o.Component),O=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.download=function(e){var t=e.substring(e.lastIndexOf("/")+1).split("?")[0].split("%2F")[2];t=decodeURIComponent(t);var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var e=document.createElement("a");e.href=window.URL.createObjectURL(a.response),e.download=t,e.style.display="none",document.body.appendChild(e),e.click()},a.open("GET",e),a.send()},e.displayAssignment=function(){var t=e.props.details,a=t.dateAndTime,n=t.title,l=t.url,r=a.toDate(),s=r.getDate(),o=u[r.getMonth()-1],i=r.getFullYear(),m=r.getHours(),d="00",p=r.getMinutes();return d=p<10?"0"+String(p):String(p),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ann-preview"},c.a.createElement("h3",null,c.a.createElement("span",{role:"img",className:"emoji","aria-label":"assignment"},"\ud83d\udcdd"))),c.a.createElement("div",{className:"ann-info text-left"},c.a.createElement("h6",{style:{width:"fit-content"},className:"mb-3"},o," ",s,", ",i," at ",m,":",d),c.a.createElement("h4",null,n),c.a.createElement("span",{onClick:function(){return e.download(l)},className:"btn link-btn btn-primary mt-2 float-right"},"Download File"),c.a.createElement("div",{style:{position:"absolute",top:"5%",right:"1%"}},c.a.createElement("button",{className:"btn",onClick:function(){return e.props.onDelete(e.props.details)}},c.a.createElement("span",{role:"img","aria-label":"delete"},"\u274c")))))},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"up-container d-flex flex-column container-fluid"},c.a.createElement("div",{className:"up mx-auto"},this.displayAssignment()))}}]),a}(o.Component),j=p.a.firestore(),k=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).isMount=!1,e.state={details:[],announcements:[],assignments:[],classId:e.props.classCode},e.collRef=j.collection("classes"),e.docRef=e.collRef.doc(e.state.classId),e.collRefUp=e.docRef.collection("updates"),e.docRefUp=e.collRefUp.doc("announcements"),e.sortAnnouncements=function(){for(var t=e.state.announcements,a=0;a<t.length;a++)for(var n=a+1;n<t.length;n++)if(t[a].dateAndTime<t[n].dateAndTime){var l=t[a];t[a]=t[n],t[n]=l}e.setState({announcements:t})},e.sortAssignments=function(){for(var t=e.state.assignments,a=0;a<t.length;a++)for(var n=a+1;n<t.length;n++)if(t[a].dateAndTime<t[n].dateAndTime){var l=t[a];t[a]=t[n],t[n]=l}e.setState({assignments:t})},e.AddAnnouncement=function(t){e.docRefUp.update({announcements:p.a.firestore.FieldValue.arrayUnion(t)}),e.setState({announcements:[]})},e.deleteAnnouncement=function(t){e.docRefUp.update({announcements:p.a.firestore.FieldValue.arrayRemove(t)}),e.setState({announcements:[]})},e.addAssignment=function(t){e.docRefUp.update({assignments:p.a.firestore.FieldValue.arrayUnion(t)})},e.deleteAssignment=function(t){p.a.storage().ref("assignment/".concat(e.state.classId,"/").concat(t.fileName)).delete().then((function(){alert("Deleted Successfully")})),e.docRefUp.update({assignments:p.a.firestore.FieldValue.arrayRemove(t)})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.isMount=!0,this.docRef.onSnapshot((function(t){t.data()&&e.isMount&&e.setState({details:t.data().details})})),this.docRefUp.onSnapshot((function(t){t.data()&&(e.isMount&&e.setState({assignments:t.data().assignments}),t.data().announcements.forEach((function(t){t.isOfficial&&e.isMount&&e.setState({announcements:e.state.announcements.concat(t)})})),e.sortAnnouncements(),e.sortAssignments())}))}},{key:"UNSAFE_componentWillMount",value:function(){this.isMount=!1}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"code-head-btn"},c.a.createElement(v.a,null),c.a.createElement("h1",{className:"mainPageHeading",style:{marginTop:"-3vh"}},"Class Details"),c.a.createElement("i",{onClick:this.props.onHide,className:"fa fa-home float-md-right mb-2 mr-2",style:{cursor:"pointer",fontSize:"30px",color:"#000"}})),c.a.createElement("h2",{id:"Details",className:"subHeading"},"Info:"," "),c.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"18rem"}}),c.a.createElement(i.a,{details:this.state.details,onEdit:this.handleDetailsEdit}),c.a.createElement("div",{id:"Assignments"},c.a.createElement("h2",{className:"subHeading"},"Assignments",c.a.createElement("span",{role:"img","aria-label":"assignments"},"\ud83d\udcdd")),c.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"40%"}}),c.a.createElement(w,{addAssign:this.addAssignment,classCode:this.state.classId}),this.state.assignments.length?this.state.assignments.map((function(t){return c.a.createElement(O,{key:t.url,onDelete:e.deleteAssignment,details:t})})):c.a.createElement("h4",{style:{textAlign:"center",width:"100%"}},"No Assignments pending for the class")),c.a.createElement("div",{id:"Announcements"},c.a.createElement("div",{className:"d-inline container-fluid"},c.a.createElement("h2",{className:"subHeading"},"Manage Announcements"," ",c.a.createElement("span",{role:"img","aria-label":"announcement"},"\ud83d\udce2")),c.a.createElement("hr",{className:"mb-4",style:{margin:"0 auto",width:"40%"}})),c.a.createElement("div",{className:"d-flex justify-content-center mb-4"},c.a.createElement(h,{AddAnnouncement:this.AddAnnouncement}),c.a.createElement(g,{addPoll:this.AddAnnouncement}),c.a.createElement(b,{addLink:this.AddAnnouncement})),c.a.createElement("div",{className:"key-container"},c.a.createElement("h5",{className:"m-2",style:{textDecoration:"underline"}},"Key"),c.a.createElement("div",{className:"poll-card m-2",style:{width:"150px"}},c.a.createElement("span",{className:"p-2"},c.a.createElement("span",{role:"img",className:"mr-1","aria-label":"announcement"},"\ud83d\udce2"," ")," ","Announcements")),c.a.createElement("div",{className:"poll-card m-2",style:{width:"75px"}},c.a.createElement("span",{className:"p-2"},c.a.createElement("span",{role:"img",className:"mr-1","aria-label":"announcement"},"\ud83d\udd17"),"Links")),c.a.createElement("div",{className:"poll-card m-2",style:{width:"75px"}},c.a.createElement("span",{className:"p-2"},c.a.createElement("span",{role:"img",className:"mr-1","aria-label":"announcement"},"\ud83d\uddf3\ufe0f"),"Polls")))),c.a.createElement("div",{className:"m-4 mx-n3 ann-container"},this.state.announcements.map((function(t){return c.a.createElement(m,{key:t.dateAndTime,announcement:t,onDelete:e.deleteAnnouncement})}))),c.a.createElement(E.a,{paths:["Details","Assignments","Announcements"]}))}}]),a}(o.Component);t.default=k}}]);
//# sourceMappingURL=9.1b82a0c6.chunk.js.map