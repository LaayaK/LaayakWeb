{"version":3,"sources":["Teacher/Details.jsx","Teacher/Class.jsx","Teacher/Lecture.jsx","Teacher/AddLecture.jsx","Teacher/MainPage.jsx","Teacher/Landing.jsx","firebase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","DarkToggle/DarkToggle.jsx","BottomNav/bnav.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","forbidden/Forbidden.jsx","StuComponents/details.jsx","../node_modules/react-show-more-text/lib/ShowMoreText.js","../node_modules/react-show-more-text/lib/Truncate.js","Teacher/Announcement.jsx","Teacher/Announce.jsx","Teacher/AddPoll.jsx","Teacher/AddLink.jsx","Teacher/addAssign.jsx","Teacher/showAssign.jsx","Teacher/ClassDetails.jsx"],"names":["Details","state","getDetails","props","details","name","college","className","style","display","alignItems","justifyContent","role","aria-label","this","Component","Class","listStyle","class","subjects","map","sub","key","code","course","branch","sem","crName","onClick","onShow","Lecture","renderLecture","lecture","subject","startTime","endTime","link","text","group","startHour","toDate","getHours","startMins","getMinutes","startAmPm","startMin","String","endHour","endMins","endAmPm","endMin","id","height","href","target","rel","lines","more","less","anchorClass","document","getElementById","classList","toggle","expanded","position","top","right","onDelete","AddLecture","isMount","show","semester","subjectName","subjectCode","classId","showModal","setState","hideModal","getForm","onSubmit","callAddLecture","margin","onChange","handleChange","required","value","classesTeaching","classTeaching","handleSemChange","filter","handleSubChange","find","type","min","Date","toJSON","split","placeholder","e","val","reqClass","forEach","event","nam","preventDefault","start","parse","end","startDate","endDate","now","M","toast","html","classes","newLecture","firebase","firestore","Timestamp","fromDate","addLecture","Modal","onHide","dialogClassName","Header","closeButton","Title","Body","db","MainPage","lecturesToday","user","auth","currentUser","loading","showDetails","claRef","collection","teachRef","doc","email","teachClassRef","handleSignOut","signOut","then","window","location","reload","catch","err","message","updatedLecture","teacher","update","lectures","FieldValue","arrayUnion","setTimeout","handleDetailsEdit","deleteLecture","delLec","arrayRemove","onSnapshot","data","querySnapshot","docs","push","snap","l","DarkToggle","fontSize","cursor","width","onEdit","length","textAlign","paths","ClassDetails","classCode","Landing","verified","authListener","onAuthStateChanged","displayName","Loader","to","Forbidden","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","mode","getElementsByTagName","localStorage","setItem","replace","getItem","checked","BottomNav","path","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread2","i","arguments","source","getOwnPropertyDescriptors","defineProperties","alt","src","exports","default","_react","__esModule","_typeof","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","require","_propTypes","_Truncate","WeakMap","Symbol","iterator","constructor","_defineProperties","descriptor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","toString","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","getPrototypeOf","ShowMoreText","_Component","subClass","superClass","TypeError","create","_inherits","Constructor","protoProps","staticProps","_super","_this","instance","_classCallCheck","truncated","_isMounted","truncateRef","onResize","_self","_this2","_this$props","children","keepNewLines","_this$state","createElement","ellipsis","toggleLines","onTruncate","handleTruncate","ref","_ref","line","arr","undefined","PropTypes","node","number","string","func","bool","_default","_interopRequireDefault","_extends","assign","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","Truncate","_React$Component","_len","args","Array","_key","concat","content","replacedLinks","item","slice","repeat","createMarkup","div","contentKey","HTMLElement","innerHTML","extractReplaceLinksKeys","test","calcTargetWidth","didTruncate","timeout","requestAnimationFrame","callback","_assertThisInitialize","elements","canvasContext","targetWidth","Math","floor","parentNode","getBoundingClientRect","getComputedStyle","font","join","measureText","offsetWidth","str","dangerouslySetInnerHTML","__html","_assertThisInitialize2","_assertThisInitialize3","numLines","trimWhitespace","innerText","measureWidth","trimRight","renderLine","restoreReplacedLinks","textLines","ellipsisWidth","textWords","resultLine","textRest","lower","upper","middle","lastLineText","pop","substr","substring","_lower","_upper","_middle","splice","shift","br","visibility","left","canvas","getContext","removeChild","addEventListener","prevProps","forceUpdate","removeEventListener","cancelAnimationFrame","spanProps","getLines","targetEl","textEl","ellipsisEl","styles","oneOfType","oneOf","months","Announcement","displayUpdate","announcement","displayAnnouncement","displayPoll","displayLink","dateAndTime","dateTime","date","getDate","month","getMonth","year","getFullYear","hour","mins","minHeight","createButtons","yesCount","yesOption","noCount","noOption","yesVotePercent","Number","isNaN","noVotePercent","getClass","cls","AddAnnouncement","showHideClassName","background","color","transform","zIndex","boxShadow","callAddAnnouncement","newAnnouncement","isOfficial","AddPoll","callAddPoll","newPoll","addPoll","AddLink","newLink","addLink","AddAssign","url","title","fileName","progress","browseFile","files","uploadAssign","remove","storageRef","storage","put","on","snapshot","bytesTransferred","totalBytes","setProgress","getDownloadURL","setUrlName","console","log","aria-describedby","htmlFor","max","callAddAssign","newAssign","addAssign","ShowAssign","download","filename","lastIndexOf","decodeURIComponent","xhr","XMLHttpRequest","responseType","onload","a","URL","createObjectURL","response","body","appendChild","click","open","send","displayAssignment","announcements","assignments","collRef","docRef","collRefUp","docRefUp","sortAnnouncements","temp","j","x","sortAssignments","deleteAnnouncement","addAssignment","deleteAssignment","delete","alert","marginTop","assignment","Announce","textDecoration"],"mappings":"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","file":"static/js/9.1b82a0c6.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass Details extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className=\"up-container d-flex flex-column container-fluid\">\r\n        <div className=\"up mx-auto\">\r\n          {this.getDetails()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  getDetails = () => {\r\n    const { name, college } = this.props.details;\r\n    return (\r\n      <>\r\n        <div className=\"ann-preview\" style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n          <h3><span role=\"img\" className=\"emoji\" aria-label=\"announcement\">👨🏻‍🏫</span></h3>\r\n        </div>\r\n        <div className=\"ann-info text-left my-auto\">\r\n        <h3>\r\n          Name: <strong>{name}</strong>\r\n        </h3>\r\n        <h3>\r\n          College: <strong>{college}</strong>\r\n        </h3>\r\n        </div>\r\n      </>          \r\n    );\r\n  };\r\n}\r\n\r\nexport default Details;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Class extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className=\"up-container d-flex flex-column container-fluid\">\r\n        <div className=\"up mx-auto\">\r\n          <div className=\"ann-preview\">\r\n            <ul style={{ listStyle: \"none\" }}>\r\n              {this.props.class.subjects.map((sub) => (\r\n                <h4 key={sub.code + sub.name}>\r\n                  <li>{sub.name}</li>\r\n                </h4>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div className=\"ann-info text-left\">\r\n            <h4>\r\n              <strong>Course: </strong>\r\n              {this.props.class.details.course}\r\n            </h4>\r\n            <h4>\r\n              <strong>Branch: </strong>\r\n              {this.props.class.details.branch}\r\n            </h4>\r\n            <h4>\r\n              <strong>Semester: </strong>\r\n              {this.props.class.details.sem}\r\n            </h4>\r\n            <h4>\r\n              <strong>CR: </strong>\r\n              {this.props.class.details.crName}\r\n            </h4>\r\n            <span\r\n              className=\"btn link-btn btn-primary mt-2 float-right\"\r\n              onClick={this.props.onShow}\r\n            >\r\n              {\" \"}\r\n              More Info{\" \"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Class;\r\n","import React, { Component } from \"react\";\r\nimport ShowMoreText from 'react-show-more-text';\r\n\r\nclass Lecture extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      this.renderLecture()\r\n    );\r\n  }\r\n\r\n  renderLecture = () => {\r\n    const {\r\n      subject,\r\n      startTime,\r\n      endTime,\r\n      link,\r\n      text,\r\n      branch,\r\n      sem,\r\n      group,\r\n    } = this.props.lecture;\r\n\r\n    let startHour = startTime.toDate().getHours(),\r\n      startMins = startTime.toDate().getMinutes(),\r\n      startAmPm = \"am\";\r\n    if (startHour === 12) {\r\n      startAmPm = \"pm\";\r\n    }\r\n    if (startHour > 12) {\r\n      startHour = startHour - 12;\r\n      startAmPm = \"pm\";\r\n    }\r\n\r\n    let startMin = (startMins < 10) ? (\"0\" + String(startMins)) : String(startMins);\r\n    let endHour = endTime.toDate().getHours(),\r\n      endMins = endTime.toDate().getMinutes(),\r\n      endAmPm = \"am\";\r\n    if (endHour === 12) {\r\n      endAmPm = \"pm\";\r\n    }\r\n    if (endHour > 12) {\r\n      endHour = endHour - 12;\r\n      endAmPm = \"pm\";\r\n    }\r\n    let endMin = endMins < 10 ? (\"0\" + String(endMins)) : String(endMins);\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"lec lec-hover\" id={startTime + link}>\r\n          <div className=\"lec-preview\">\r\n            <div className=\"time\" style={{ height: \"148px\" }}>\r\n              <h3>{startHour} : {startMin} {startAmPm}</h3>\r\n              <div className=\"mb-2\" style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n                {/* <span className=\"vertical-line\" style={{ height: \"25px\" }}></span> */}\r\n                {/* <span className=\"vertical-line\" style={{ height: \"45px\", margin: \"0 1px\" }}></span> */}\r\n                <span className=\"vertical-line\" style={{ height: \"20px\" }}></span>\r\n              </div>\r\n              <h3>{endHour} : {endMin} {endAmPm}</h3>\r\n            </div>\r\n            <hr />\r\n            <br />\r\n            <a\r\n              className=\"lec-btn btn-primary mt-2\"\r\n              href={link}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\" >\r\n              Join now\r\n              </a>\r\n          </div>\r\n          <div className=\"lec-info text-left\">\r\n            <div className=\"main-data\" style={{ height: \"148px\" }}>\r\n              <h2><strong>{subject}</strong></h2>\r\n              <h4>Branch: {branch}</h4>\r\n              <h4>Semester: {sem}</h4>\r\n              <h4>Group: {group ? group : \"All\"}</h4>\r\n            </div>\r\n            <hr />\r\n            <h5><strong>Description: </strong>\r\n              <ShowMoreText\r\n                lines={1}\r\n                more=\"More\"\r\n                less=\"Less\"\r\n                anchorClass=\"\"\r\n                onClick={() => document.getElementById(startTime + link).classList.toggle(\"lec-hover\")}\r\n                expanded={false}>\r\n                {text ? text : \"No Info Provided\"}\r\n              </ShowMoreText>\r\n            </h5>\r\n            <div style={{ position: \"absolute\", top: \"5%\", right: \"5%\" }}>\r\n              <button\r\n                className=\"btn\"\r\n                onClick={() => this.props.onDelete(this.props.lecture)}\r\n              >\r\n                <span role=\"img\" aria-label=\"delete\">❌</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    );\r\n  };\r\n}\r\n\r\nexport default Lecture;","import React, { Component } from \"react\";\r\nimport firebase from \"../firebase\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport M from \"materialize-css\";\r\n\r\nclass AddLecture extends Component {\r\n  isMount = false;\r\n  state = {\r\n    show: false,\r\n    link: \"\",\r\n    branch: \"\",\r\n    semester: \"\",\r\n    subjectName: \"\",\r\n    subjectCode: \"\",\r\n    classId: \"\",\r\n    text: \"\",\r\n    group: \"\",\r\n  };\r\n\r\n  // toggle show state\r\n  showModal = () => {\r\n    this.setState({ show: true });\r\n  };\r\n  hideModal = () => {\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  // modal show/hide class\r\n  // showHideClassName = () => (this.state.show ? \"\" : \"d-none\");\r\n\r\n  // styles = {\r\n  //   position: \"fixed\",\r\n  //   display: \"block\",\r\n  //   background: \"pink\",\r\n  //   color: \"black\",\r\n  //   width: \"80%\",\r\n  //   top: \"50%\",\r\n  //   left: \"50%\",\r\n  //   transform: \"translate(-50%,-50%)\",\r\n  //   zIndex: 1,\r\n  //   boxShadow: \"2px 2px 10px 10px rgba(255, 31, 255, 0.226)\",\r\n  // };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button className=\"btn-info btn-lg mb-4\" onClick={this.showModal}>\r\n          Add Lecture +\r\n        </button>\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={this.hideModal}\r\n          dialogClassName=\"modal-dialog-scrollable modal-lg\"\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title><h3>Add Lecture Details:</h3></Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {this.getForm()}\r\n          </Modal.Body>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getForm = () => {\r\n    return (\r\n      <div>\r\n        <form className=\"m-2\" onSubmit={this.callAddLecture}>\r\n          <div className=\"col-sm-7\" style={{ margin: \"auto\" }}>\r\n            <label>Branch: </label>\r\n            <select\r\n              className=\"add-lec-subject form-control text-center\"\r\n              name=\"branch\"\r\n              onChange={this.handleChange}\r\n              required\r\n            >\r\n              <option className=\"add-lec-opns\" value=\"\">\r\n                --Choose Branch---\r\n              </option>\r\n              {this.props.classesTeaching.map((classTeaching) => {\r\n                return (\r\n                  <option className=\"add-lec-opns\" key={classTeaching.details.classId + classTeaching.details.subject} value={classTeaching.details.branch}>\r\n                    {classTeaching.details.branch}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-sm-7\" style={{ margin: \"auto\" }}>\r\n            <label>Semester: </label>\r\n            <select\r\n              className=\"add-lec-subject form-control text-center\"\r\n              name=\"semester\"\r\n              onChange={this.handleSemChange}\r\n              required\r\n            >\r\n              <option className=\"add-lec-opns\" value=\"\">\r\n                --Choose Semester---\r\n              </option>\r\n              {this.props.classesTeaching.filter((classTeaching) => (classTeaching.details.branch === this.state.branch)).map((classTeaching) => {\r\n                return (\r\n                  <option className=\"add-lec-opns\" key={classTeaching.details.classId} value={classTeaching.details.classId}>\r\n                    {classTeaching.details.sem}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-sm-7\" style={{ margin: \"auto\" }}>\r\n            <label>Subject: </label>\r\n            <select\r\n              className=\"add-lec-subject form-control text-center\"\r\n              name=\"subject\"\r\n              onChange={this.handleSubChange}\r\n              required\r\n            >\r\n              <option className=\"add-lec-opns\" value=\"\">\r\n                --Choose Subject---\r\n              </option>\r\n              {this.state.classId && this.props.classesTeaching.find((classTeaching) => (classTeaching.details.classId === this.state.classId)).subjects.map((sub) => {\r\n                return (\r\n                  <option className=\"add-lec-opns\" key={sub.code + sub.name} value={sub.code}>\r\n                    {sub.name}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-7 mb-3\" style={{ margin: \"auto\" }}>\r\n            <label>Link:</label>\r\n            <input\r\n              type=\"url\"\r\n              className=\"form-control\"\r\n              id=\"link\"\r\n              name=\"link\"\r\n              value={this.state.link}\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <div className=\"form-row\">\r\n              <div className=\"col-sm-4\">\r\n                <label>Start Time</label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"datetime-local\"\r\n                  name=\"startTime\"\r\n                  min={\r\n                    new Date().toJSON().split(\":\")[0] +\r\n                    \":\" +\r\n                    new Date().toJSON().split(\":\")[1]\r\n                  }\r\n                  id=\"startTime\"\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"col-sm-4\">\r\n                <label>End Time</label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"datetime-local\"\r\n                  name=\"endTime\"\r\n                  min={\r\n                    new Date().toJSON().split(\":\")[0] +\r\n                    \":\" +\r\n                    new Date().toJSON().split(\":\")[1]\r\n                  }\r\n                  id=\"endTime\"\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"col-sm-4\">\r\n                <label>Group</label>\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  name=\"group\"\r\n                  id=\"group\"\r\n                  onChange={this.handleChange}\r\n                  placeholder=\"leave blank for whole class!\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <label>Description:</label>\r\n            <textarea\r\n              className=\"form-control col-sm-10\"\r\n              id=\"text\"\r\n              style={{ margin: \"auto\" }}\r\n              value={this.state.text}\r\n              name=\"text\"\r\n              onChange={this.handleChange}\r\n              placeholder=\"no info provided\"\r\n            />\r\n          </div>\r\n          <button className=\"btn btn-success\" type=\"submit\">\r\n            Add Lecture\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  handleSubChange = (e) => {\r\n    const code = e.target.value;\r\n    const subjects = this.props.classesTeaching.find((classTeaching) => classTeaching.details.classId === this.state.classId).subjects;\r\n    const name = subjects.find((sub) => sub.code === code).name;\r\n    this.setState({\r\n      subjectName: name,\r\n      subjectCode: code\r\n    })\r\n  }\r\n\r\n  handleSemChange = (e) => {\r\n    const val = e.target.value;\r\n    let reqClass = {};\r\n    this.props.classesTeaching.forEach((classTeaching) => {\r\n      if (classTeaching.details.classId === val) {\r\n        reqClass = classTeaching.details;\r\n      }\r\n    })\r\n    this.setState({\r\n      semester: reqClass.sem,\r\n      classId: reqClass.classId\r\n    })\r\n\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    let nam = event.target.name;\r\n    let val = event.target.value;\r\n    this.setState({ [nam]: val });\r\n  };\r\n\r\n  callAddLecture = (e) => {\r\n    e.preventDefault(); // preventing reload    \r\n    const start = Date.parse(this.state.startTime),\r\n      end = Date.parse(this.state.endTime);\r\n\r\n    const startDate = new Date(start),\r\n      endDate = new Date(end);\r\n\r\n    const presentCheck = Date.now() - 60000;\r\n\r\n    if (start < presentCheck || end <= start) {\r\n      M.toast({ html: \"Enter Valid Class Timings\", classes: \"toast error-toast\" })\r\n      return;\r\n    }\r\n\r\n    const newLecture = {\r\n      subjectName: this.state.subjectName,\r\n      subjectCode: this.state.subjectCode,\r\n      classId: this.state.classId,\r\n      startTime: firebase.firestore.Timestamp.fromDate(startDate),\r\n      endTime: firebase.firestore.Timestamp.fromDate(endDate),\r\n      link: this.state.link,\r\n      text: this.state.text,\r\n      group: this.state.group,\r\n    };\r\n    this.setState({ show: false });\r\n    this.props.addLecture(newLecture);\r\n    this.setState({\r\n      link: \"\",\r\n      subject: \"\",\r\n      subjectCode: \"\",\r\n      startTime: new Date(0),\r\n      endTime: new Date(0),\r\n      text: \"\",\r\n      group: \"\",\r\n    });\r\n  }\r\n};\r\n\r\nexport default AddLecture;\r\n","import React, { Component } from \"react\";\r\nimport Details from \"./Details\";\r\nimport Class from \"./Class\";\r\nimport Lecture from \"./Lecture\";\r\nimport AddLecture from \"./AddLecture\";\r\nimport firebase from \"../firebase\";\r\nimport BottomNav from \"../BottomNav/bnav\";\r\nimport DarkToggle from \"../DarkToggle/DarkToggle\";\r\nimport M from \"materialize-css\";\r\nimport ClassDetails from \"./ClassDetails\";\r\n\r\nlet db = firebase.firestore();\r\n\r\nclass MainPage extends Component {\r\n  isMount = false;\r\n  state = {\r\n    classesTeaching: [],\r\n    details: [],\r\n    lecturesToday: [],\r\n    user: firebase.auth().currentUser,\r\n    loading: true,\r\n    showDetails: false,\r\n    classId: null,\r\n  };\r\n\r\n  claRef = db.collection(\"classes\");\r\n  teachRef = db.collection(\"teachers\").doc(this.state.user.email);\r\n  teachClassRef = this.teachRef.collection(\"classes\");\r\n\r\n  handleSignOut = () => {\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        M.toast({ html: \"Signed Out\", classes: \"toast success-toast\" });\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        M.toast({ html: err.message, classes: \"toast error-toast\" });\r\n      });\r\n  };\r\n\r\n  // extracting data from db\r\n  componentDidMount() {\r\n    // only data fetch\r\n    this.isMount = true;\r\n    this.teachRef.onSnapshot((teacher) => {\r\n      if (this.isMount) {\r\n        this.setState({\r\n          details: teacher.data().details,\r\n          loading: false,\r\n        });\r\n      }\r\n    });\r\n    this.teachClassRef.onSnapshot((querySnapshot) => {\r\n      querySnapshot.docs.forEach((classTeaching) => {\r\n        let { classesTeaching } = this.state;\r\n        classesTeaching.push(classTeaching.data());\r\n        if (this.isMount) {\r\n          this.setState({ classesTeaching });\r\n        }\r\n        this.claRef\r\n          .doc(classTeaching.id)\r\n          .collection(\"lectures\")\r\n          .doc(\"lecturesToday\")\r\n          .onSnapshot((snap) => {\r\n            let { lecturesToday } = this.state;\r\n            if (snap.data()) {\r\n              snap.data().lectures.forEach((l) => {\r\n                classTeaching.data().subjects.forEach((sub) => {\r\n                  if (l.subjectCode === sub.code) {\r\n                    lecturesToday.push({\r\n                      ...l,\r\n                      branch: classTeaching.data().details.branch,\r\n                      sem: classTeaching.data().details.sem,\r\n                      classId: classTeaching.data().details.classId,\r\n                    });\r\n                  }\r\n                });\r\n              });\r\n            }\r\n            if (this.isMount) {\r\n              this.setState({ lecturesToday });\r\n            }\r\n          });\r\n      });\r\n    });\r\n  }\r\n\r\n  UNSAFE_componentWillMount() {\r\n    this.isMount = false;\r\n  }\r\n\r\n  render() {\r\n    const display = (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"code-head-btn\">\r\n          {/* signout btn */}\r\n          <DarkToggle />\r\n          <h1 className=\"mainPageHeading mx-auto\">Teacher Control Center!</h1>\r\n          <i\r\n            style={{ fontSize: \"30px\", cursor: \"pointer\" }}\r\n            onClick={this.handleSignOut}\r\n            className=\"float-md-right mb-2 fa fa-sign-out\"\r\n          />\r\n        </div>\r\n        <h2 id=\"Details\" className=\"subHeading\">\r\n          Your Details:{\" \"}\r\n        </h2>\r\n        <hr className=\"mb-4\" style={{ margin: \"0 auto\", width: \"18rem\" }} />\r\n\r\n        <Details details={this.state.details} onEdit={this.handleDetailsEdit} />\r\n        {/* lectures on the day */}\r\n        <h2 id=\"Lectures\" className=\"subHeading\">\r\n          Lectures Today:\r\n        </h2>\r\n        <hr className=\"mb-4\" style={{ margin: \"0 auto\", width: \"18rem\" }} />\r\n\r\n        <AddLecture\r\n          addLecture={this.addLecture}\r\n          classesTeaching={this.state.classesTeaching}\r\n        />\r\n\r\n        <div className=\"lectures-row\">\r\n          {this.state.lecturesToday.length === 0 ? (\r\n            <h4 style={{ textAlign: \"center\", width: \"100%\" }}>\r\n              There are no lectures for the day yet!\r\n            </h4>\r\n          ) : (\r\n            this.state.lecturesToday.map((lecture) => (\r\n              <Lecture\r\n                lecture={lecture}\r\n                key={lecture.startTime + lecture.classId}\r\n                onDelete={this.deleteLecture}\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {/* CLASSES YOU TEACH */}\r\n        <h2 id=\"Classes\" className=\"subHeading\">\r\n          Classes You Teach:\r\n        </h2>\r\n        <hr className=\"mb-4\" style={{ margin: \"0 auto\", width: \"18rem\" }} />\r\n        <div className=\"my-flex-container\">\r\n          {this.state.classesTeaching.length === 0 ? (\r\n            <h4 style={{ textAlign: \"center\", width: \"100%\" }}>\r\n              No classes are assigned to you yet! Please contact the CR of\r\n              respective class\r\n            </h4>\r\n          ) : (\r\n            this.state.classesTeaching.map((classTeaching) => (\r\n              <Class\r\n                key={classTeaching.details.classId}\r\n                class={classTeaching}\r\n                onShow={() =>\r\n                  this.setState({\r\n                    showDetails: true,\r\n                    classId: classTeaching.details.classId,\r\n                  })\r\n                }\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n        <BottomNav paths={[\"Details\", \"Lectures\", \"Classes\"]} />\r\n      </div>\r\n    );\r\n    return this.state.showDetails ? (\r\n      <ClassDetails\r\n        classCode={this.state.classId}\r\n        onHide={() =>\r\n          this.setState({\r\n            showDetails: false,\r\n            classId: null,\r\n          })\r\n        }\r\n      />\r\n    ) : (\r\n      display\r\n    );\r\n  }\r\n  // All add functions\r\n  addLecture = (newLecture) => {\r\n    const updatedLecture = {\r\n      subject: newLecture.subjectName,\r\n      subjectCode: newLecture.subjectCode,\r\n      teacher: this.state.details.name,\r\n      link: newLecture.link,\r\n      startTime: newLecture.startTime,\r\n      endTime: newLecture.endTime,\r\n      group: newLecture.group,\r\n      text: newLecture.text,\r\n    };\r\n    this.claRef\r\n      .doc(newLecture.classId)\r\n      .collection(\"lectures\")\r\n      .doc(\"lecturesToday\")\r\n      .update({\r\n        lectures: firebase.firestore.FieldValue.arrayUnion(updatedLecture),\r\n      });\r\n    this.setState({\r\n      lecturesToday: [],\r\n    });\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 200);\r\n  };\r\n  // All update/edit functions\r\n  handleDetailsEdit = () => {};\r\n\r\n  // All delete functions\r\n  deleteLecture = (lecture) => {\r\n    const delLec = {\r\n      subject: lecture.subject,\r\n      subjectCode: lecture.subjectCode,\r\n      teacher: lecture.teacher,\r\n      group: lecture.group,\r\n      link: lecture.link,\r\n      startTime: lecture.startTime,\r\n      endTime: lecture.endTime,\r\n      text: lecture.text,\r\n    };\r\n    this.claRef\r\n      .doc(lecture.classId)\r\n      .collection(\"lectures\")\r\n      .doc(\"lecturesToday\")\r\n      .update({\r\n        lectures: firebase.firestore.FieldValue.arrayRemove(delLec),\r\n      });\r\n    this.setState({\r\n      lecturesToday: [],\r\n    });\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 200);\r\n  };\r\n}\r\n\r\nexport default MainPage;\r\n","import React, { Component } from \"react\";\r\nimport MainPage from \"./MainPage\";\r\nimport firebase from \"../firebase\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Forbidden from \"../forbidden/Forbidden\";\r\n\r\nclass Landing extends Component {\r\n    isMount = false\r\n    state = {\r\n        user: null,\r\n        verified: false,\r\n        loading: true\r\n    };\r\n\r\n    authListener = () => {\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                if(user.displayName === \"teacher\"){\r\n                    if(this.isMount){\r\n                        this.setState({\r\n                            verified: true\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            if (this.isMount) {\r\n                this.setState({ user });\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.isMount = true\r\n        this.authListener();\r\n    }\r\n    UNSAFE_componentWillMount() {\r\n        this.isMount = false\r\n    }\r\n\r\n    render() {\r\n        let display;\r\n        (this.state.loading) && (display = <Loader />)\r\n        if (!this.state.loading) {\r\n            if (this.state.user) {\r\n                if (this.state.verified) {\r\n                    display = <MainPage />\r\n                } else {\r\n                    display = <Forbidden />\r\n                }\r\n            } else {\r\n                return <Redirect to=\"/teacher/login\" />\r\n            }\r\n        }\r\n        setTimeout(() => {\r\n            if (this.isMount) {\r\n                this.setState({ loading: false })\r\n            }\r\n        }, 2000)\r\n        return display;\r\n    }\r\n}\r\nexport default Landing;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n//   paste your keys here!!!\r\n  apiKey: \"AIzaSyBtqTsT1XUqRQUREtKJ0QSnmHd5YvExHw8\",\r\n  authDomain: \"layaak-web.firebaseapp.com\",\r\n  projectId: \"layaak-web\",\r\n  storageBucket: \"layaak-web.appspot.com\",\r\n  messagingSenderId: \"1093914758055\",\r\n  appId: \"1:1093914758055:web:b614caead750078d920482\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport default firebase;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component } from 'react';\r\nimport \"./DarkToggle.css\"\r\n\r\nclass DarkToggle extends Component {\r\n    state = {\r\n        mode: document.getElementsByTagName(\"Body\")[0].classList[0]\r\n    }\r\n    render() {\r\n        const toggle = () => {\r\n            this.state.mode === \"dark\" ? localStorage.setItem(\"mode\", \"light\") : localStorage.setItem(\"mode\", \"dark\");\r\n            document.getElementsByTagName(\"Body\")[0].classList.replace(this.state.mode, localStorage.getItem(\"mode\"));\r\n            this.setState({\r\n                mode: localStorage.getItem(\"mode\")\r\n            })\r\n        }\r\n        return (\r\n            <div className=\"float-md-left w-auto mb-2 input-group custom-control custom-switch\">\r\n                <label id=\"switch\" className=\"switch\">\r\n                    <input \r\n                    type=\"checkbox\" \r\n                    className=\"custom-control-input\"\r\n                    onChange={toggle}\r\n                    checked={this.state.mode === \"dark\"}\r\n                    id=\"dark\" />\r\n                    <span className=\"slider round\"></span>\r\n                </label>                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DarkToggle;\r\n","import React, { Component } from \"react\";\r\nimport \"./bnav.css\";\r\n\r\nclass BottomNav extends Component {\r\n  state = {};    \r\n  render() {\r\n    return (\r\n      <nav className=\"b-nav\">\r\n        <ul className=\"b-nav-links\">\r\n          {this.props.paths.map((path) => (\r\n            <li key={path}>\r\n            <a href={\"#\"+path} className=\"b-nav-link\">\r\n              {path}\r\n            </a>\r\n          </li>\r\n          ))}          \r\n        </ul>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BottomNav;\r\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport M from \"materialize-css\";\r\nimport firebase from \"../firebase\";\r\nimport \"./forbidden.css\"\r\n\r\nclass Forbidden extends Component {\r\n    handleSignOut = () => {\r\n        firebase\r\n            .auth()\r\n            .signOut()\r\n            .then(() => {\r\n                window.location.reload();\r\n            })\r\n            .catch((err) => {\r\n                M.toast({ html: err.message, classes: \"toast error-toast\" })\r\n            });\r\n    };\r\n    render() {\r\n        return (\r\n            <div className=\"403\">\r\n                <section className=\"page_403\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-sm-12 \">\r\n                                <div className=\"col-sm-offset-1  text-center\">\r\n                                    <h1 className=\"text-center\">403</h1>\r\n                                    <div className=\"four_zero_three_bg\">\r\n                                    </div>\r\n                                    <div className=\"contant_box_403\">\r\n                                        <h3 className=\"h2\">\r\n                                            Access Denied\r\n\t\t                                </h3>\r\n                                        <h5>\r\n                                            <button className=\"btn btn-primary mx-2\" onClick={this.handleSignOut}>Sign In</button>\r\n                                            to gain access / go\r\n                                            <Link className=\"btn btn-success mx-2\" to=\"/\">Home</Link>\r\n                                        </h5>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Forbidden;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Details extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className=\"up-container d-flex flex-column container-fluid\">\r\n        <div className=\"up mx-auto\">\r\n          {this.getDetails()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  getDetails = () => {\r\n    const { branch, college, course, sem, crName } = this.props.details;\r\n    return (\r\n\r\n      <>\r\n        <div className=\"ann-preview\" style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n          <img alt=\"details\" src=\"https://cdn1.iconfinder.com/data/icons/education-set-01/512/document-info-512.png\" />\r\n        </div>\r\n        <div className=\"ann-info text-left\">\r\n          <p>\r\n            Branch: <strong>{branch}</strong>\r\n          </p>\r\n          <p>\r\n            College: <strong>{college}</strong>\r\n          </p>\r\n          <p>\r\n            Course: <strong>{course}</strong>\r\n          </p>\r\n          <p>\r\n            Semester: <strong>{sem}</strong>\r\n          </p>\r\n          <p>\r\n            Class Representative: <strong>{crName}</strong>\r\n          </p>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n}\r\n\r\nexport default Details;\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = require(\"prop-types\");\n\nvar _Truncate = _interopRequireDefault(require(\"./Truncate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ShowMoreText = /*#__PURE__*/function (_Component) {\n  _inherits(ShowMoreText, _Component);\n\n  var _super = _createSuper(ShowMoreText);\n\n  function ShowMoreText(props) {\n    var _this;\n\n    _classCallCheck(this, ShowMoreText);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isMounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTruncate\", function (truncated) {\n      if (_this._isMounted && truncated !== _this.state.truncated) {\n        _this.setState({\n          truncated: truncated\n        });\n\n        if (truncated) {\n          _this.truncateRef.onResize();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleLines\", function (event) {\n      event.preventDefault();\n\n      var _self = _assertThisInitialized(_this);\n\n      if (_this._isMounted) {\n        _this.setState({\n          expanded: !_this.state.expanded\n        }, function () {\n          if (_self.props.onClick) {\n            _self.props.onClick(_self.state.expanded);\n          }\n        });\n      }\n    });\n\n    _this.state = {\n      expanded: false,\n      truncated: false\n    };\n    return _this;\n  }\n\n  _createClass(ShowMoreText, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n\n      var _self = this;\n\n      if (this._isMounted) {\n        this.setState({\n          expanded: _self.props.expanded\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          more = _this$props.more,\n          less = _this$props.less,\n          lines = _this$props.lines,\n          anchorClass = _this$props.anchorClass,\n          width = _this$props.width,\n          keepNewLines = _this$props.keepNewLines;\n      var _this$state = this.state,\n          expanded = _this$state.expanded,\n          truncated = _this$state.truncated;\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_Truncate.default, {\n        width: width,\n        lines: !expanded && lines,\n        ellipsis: /*#__PURE__*/_react.default.createElement(\"span\", null, \"...\", ' ', /*#__PURE__*/_react.default.createElement(\"a\", {\n          href: \"#\",\n          className: anchorClass,\n          onClick: this.toggleLines\n        }, more)),\n        onTruncate: this.handleTruncate,\n        ref: function ref(_ref) {\n          return _this2.truncateRef = _ref;\n        }\n      }, keepNewLines ? children.split('\\n').map(function (line, i, arr) {\n        line = /*#__PURE__*/_react.default.createElement(\"span\", {\n          key: i\n        }, line);\n\n        if (i === arr.length - 1) {\n          return line;\n        } else {\n          return [line, /*#__PURE__*/_react.default.createElement(\"br\", {\n            key: i + 'br'\n          })];\n        }\n      }) : children), !truncated && expanded && /*#__PURE__*/_react.default.createElement(\"span\", null, ' ', /*#__PURE__*/_react.default.createElement(\"a\", {\n        href: \"#\",\n        className: anchorClass,\n        onClick: this.toggleLines\n      }, less)));\n    }\n  }]);\n\n  return ShowMoreText;\n}(_react.Component);\n\n_defineProperty(ShowMoreText, \"defaultProps\", {\n  lines: 3,\n  more: 'Show more',\n  less: 'Show less',\n  anchorClass: '',\n  onClick: undefined,\n  expanded: false,\n  width: 0,\n  keepNewLines: false\n});\n\n_defineProperty(ShowMoreText, \"propTypes\", {\n  children: _propTypes.PropTypes.node,\n  lines: _propTypes.PropTypes.number,\n  more: _propTypes.PropTypes.node,\n  less: _propTypes.PropTypes.node,\n  anchorClass: _propTypes.PropTypes.string,\n  onClick: _propTypes.PropTypes.func,\n  expanded: _propTypes.PropTypes.bool,\n  width: _propTypes.PropTypes.number,\n  keepNewLines: _propTypes.PropTypes.bool\n});\n\nvar _default = ShowMoreText;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Truncate = /*#__PURE__*/function (_React$Component) {\n  _inherits(Truncate, _React$Component);\n\n  var _super = _createSuper(Truncate);\n\n  function Truncate() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _classCallCheck(this, Truncate);\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"extractReplaceLinksKeys\", function (content) {\n      var _self = _assertThisInitialized(_this),\n          i = 0;\n\n      _this.replacedLinks = [];\n      content.replace(/(<a[\\s]+([^>]+)>((?:.(?!\\<\\/a\\>))*.)<\\/a>)/g, function () {\n        var item = Array.prototype.slice.call(arguments, 1, 4);\n        item.key = '[' + '@'.repeat(item[2].length - 1) + '=' + i++ + ']';\n\n        _self.replacedLinks.push(item);\n\n        content = content.replace(item[0], item.key);\n      });\n      return content;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreReplacedLinks\", function (content) {\n      _this.replacedLinks.forEach(function (item) {\n        content = content.replace(item.key, item[0]);\n      });\n\n      return _this.createMarkup(content);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"innerText\", function (node) {\n      var div = document.createElement('div');\n      var contentKey = 'innerText' in window.HTMLElement.prototype ? 'innerText' : 'textContent';\n      var content = node.innerHTML.replace(/\\r\\n|\\r|\\n/g, ' ');\n      div.innerHTML = _this.extractReplaceLinksKeys(content);\n      var text = div[contentKey];\n      var test = document.createElement('div');\n      test.innerHTML = 'foo<br/>bar';\n\n      if (test[contentKey].replace(/\\r\\n|\\r/g, '\\n') !== 'foo\\nbar') {\n        div.innerHTML = div.innerHTML.replace(/<br.*?[\\/]?>/gi, '\\n');\n        text = div[contentKey];\n      }\n\n      return text;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n      _this.calcTargetWidth();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTruncate\", function (didTruncate) {\n      var onTruncate = _this.props.onTruncate;\n\n      if (typeof onTruncate === 'function') {\n        _this.timeout = window.requestAnimationFrame(function () {\n          onTruncate(didTruncate);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"calcTargetWidth\", function (callback) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          target = _assertThisInitialize.elements.target,\n          calcTargetWidth = _assertThisInitialize.calcTargetWidth,\n          canvasContext = _assertThisInitialize.canvasContext,\n          width = _assertThisInitialize.props.width; // Calculation is no longer relevant, since node has been removed\n\n\n      if (!target) {\n        return;\n      }\n\n      var targetWidth = width || // Floor the result to deal with browser subpixel precision\n      Math.floor(target.parentNode.getBoundingClientRect().width); // Delay calculation until parent node is inserted to the document\n      // Mounting order in React is ChildComponent, ParentComponent\n\n      if (!targetWidth) {\n        return window.requestAnimationFrame(function () {\n          return calcTargetWidth(callback);\n        });\n      }\n\n      var style = window.getComputedStyle(target);\n      var font = [style['font-weight'], style['font-style'], style['font-size'], style['font-family']].join(' ');\n      canvasContext.font = font;\n\n      _this.setState({\n        targetWidth: targetWidth\n      }, callback);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"measureWidth\", function (text) {\n      return _this.canvasContext.measureText(text).width;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ellipsisWidth\", function (node) {\n      return node.offsetWidth;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"trimRight\", function (text) {\n      return text.replace(/\\s+$/, '');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"createMarkup\", function (str) {\n      return /*#__PURE__*/_react.default.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: str\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLines\", function () {\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          elements = _assertThisInitialize2.elements,\n          _assertThisInitialize3 = _assertThisInitialize2.props,\n          numLines = _assertThisInitialize3.lines,\n          ellipsis = _assertThisInitialize3.ellipsis,\n          trimWhitespace = _assertThisInitialize3.trimWhitespace,\n          targetWidth = _assertThisInitialize2.state.targetWidth,\n          innerText = _assertThisInitialize2.innerText,\n          measureWidth = _assertThisInitialize2.measureWidth,\n          onTruncate = _assertThisInitialize2.onTruncate,\n          trimRight = _assertThisInitialize2.trimRight,\n          renderLine = _assertThisInitialize2.renderLine,\n          restoreReplacedLinks = _assertThisInitialize2.restoreReplacedLinks;\n\n      var lines = [];\n      var text = innerText(elements.text);\n      var textLines = text.split('\\n').map(function (line) {\n        return line.split(' ');\n      });\n      var didTruncate = true;\n\n      var ellipsisWidth = _this.ellipsisWidth(_this.elements.ellipsis);\n\n      for (var line = 1; line <= numLines; line++) {\n        var textWords = textLines[0]; // Handle newline\n\n        if (textWords.length === 0) {\n          lines.push();\n          textLines.shift();\n          line--;\n          continue;\n        }\n\n        var resultLine = textWords.join(' ');\n\n        if (measureWidth(resultLine) <= targetWidth) {\n          if (textLines.length === 1) {\n            // Line is end of text and fits without truncating\n            didTruncate = false;\n            resultLine = restoreReplacedLinks(resultLine);\n            lines.push(resultLine);\n            break;\n          }\n        }\n\n        if (line === numLines) {\n          // Binary search determining the longest possible line inluding truncate string\n          var textRest = textWords.join(' ');\n          var lower = 0;\n          var upper = textRest.length - 1;\n\n          while (lower <= upper) {\n            var middle = Math.floor((lower + upper) / 2);\n            var testLine = textRest.slice(0, middle + 1);\n\n            if (measureWidth(testLine) + ellipsisWidth <= targetWidth) {\n              lower = middle + 1;\n            } else {\n              upper = middle - 1;\n            }\n          }\n\n          var lastLineText = textRest.slice(0, lower);\n\n          if (trimWhitespace) {\n            lastLineText = trimRight(lastLineText); // Remove blank lines from the end of text\n\n            while (!lastLineText.length && lines.length) {\n              var prevLine = lines.pop();\n              lastLineText = trimRight(prevLine);\n            }\n          }\n\n          if (lastLineText.substr(lastLineText.length - 2) === '][') {\n            lastLineText = lastLineText.substring(0, lastLineText.length - 1);\n          }\n\n          ;\n          lastLineText = restoreReplacedLinks(lastLineText);\n          resultLine = /*#__PURE__*/_react.default.createElement(\"span\", null, lastLineText, ellipsis);\n        } else {\n          // Binary search determining when the line breaks\n          var _lower = 0;\n\n          var _upper = textWords.length - 1;\n\n          while (_lower <= _upper) {\n            var _middle = Math.floor((_lower + _upper) / 2);\n\n            var _testLine = textWords.slice(0, _middle + 1).join(' ');\n\n            if (measureWidth(_testLine) <= targetWidth) {\n              _lower = _middle + 1;\n            } else {\n              _upper = _middle - 1;\n            }\n          } // The first word of this line is too long to fit it\n\n\n          if (_lower === 0) {\n            // Jump to processing of last line\n            line = numLines - 1;\n            continue;\n          }\n\n          resultLine = textWords.slice(0, _lower).join(' ');\n          resultLine = restoreReplacedLinks(resultLine);\n          textLines[0].splice(0, _lower);\n        }\n\n        lines.push(resultLine);\n      }\n\n      onTruncate(didTruncate);\n      return lines.map(renderLine);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderLine\", function (line, i, arr) {\n      if (i === arr.length - 1) {\n        return /*#__PURE__*/_react.default.createElement(\"span\", {\n          key: i\n        }, line);\n      } else {\n        var br = /*#__PURE__*/_react.default.createElement(\"br\", {\n          key: i + 'br'\n        });\n\n        if (line) {\n          return [/*#__PURE__*/_react.default.createElement(\"span\", {\n            key: i\n          }, line), br];\n        } else {\n          return br;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"styles\", {\n      ellipsis: {\n        position: 'fixed',\n        visibility: 'hidden',\n        top: 0,\n        left: 0\n      }\n    });\n\n    _this.elements = {};\n    _this.replacedLinks = [];\n    return _this;\n  }\n\n  _createClass(Truncate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var text = this.elements.text,\n          calcTargetWidth = this.calcTargetWidth,\n          onResize = this.onResize;\n      var canvas = document.createElement('canvas');\n      this.canvasContext = canvas.getContext('2d');\n      calcTargetWidth(function () {\n        // Node not needed in document tree to read its content\n        if (text) {\n          text.parentNode.removeChild(text);\n        }\n      });\n      window.addEventListener('resize', onResize);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // Render was based on outdated refs and needs to be rerun\n      if (this.props.children !== prevProps.children) {\n        this.forceUpdate();\n      } // If the width prop has changed, recalculate size of contents\n\n\n      if (this.props.width !== prevProps.width) {\n        this.calcTargetWidth();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var ellipsis = this.elements.ellipsis,\n          onResize = this.onResize,\n          timeout = this.timeout;\n      ellipsis.parentNode.removeChild(ellipsis);\n      window.removeEventListener('resize', onResize);\n      window.cancelAnimationFrame(timeout);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var target = this.elements.target,\n          _this$props = this.props,\n          children = _this$props.children,\n          ellipsis = _this$props.ellipsis,\n          lines = _this$props.lines,\n          spanProps = _objectWithoutProperties(_this$props, [\"children\", \"ellipsis\", \"lines\"]),\n          targetWidth = this.state.targetWidth,\n          getLines = this.getLines,\n          onTruncate = this.onTruncate;\n\n      var text;\n      var mounted = !!(target && targetWidth);\n\n      if (typeof window !== 'undefined' && mounted) {\n        if (lines > 0) {\n          text = getLines();\n        } else {\n          text = children;\n          onTruncate(false);\n        }\n      }\n\n      delete spanProps.onTruncate;\n      delete spanProps.trimWhitespace;\n      return /*#__PURE__*/_react.default.createElement(\"span\", _extends({}, spanProps, {\n        ref: function ref(targetEl) {\n          _this2.elements.target = targetEl;\n        }\n      }), /*#__PURE__*/_react.default.createElement(\"span\", null, text), /*#__PURE__*/_react.default.createElement(\"span\", {\n        ref: function ref(textEl) {\n          _this2.elements.text = textEl;\n        }\n      }, children), /*#__PURE__*/_react.default.createElement(\"span\", {\n        ref: function ref(ellipsisEl) {\n          _this2.elements.ellipsis = ellipsisEl;\n        },\n        style: this.styles.ellipsis\n      }, ellipsis));\n    }\n  }]);\n\n  return Truncate;\n}(_react.default.Component);\n\nexports.default = Truncate;\n\n_defineProperty(Truncate, \"propTypes\", {\n  children: _propTypes.default.node,\n  ellipsis: _propTypes.default.node,\n  lines: _propTypes.default.oneOfType([_propTypes.default.oneOf([false]), _propTypes.default.number]),\n  trimWhitespace: _propTypes.default.bool,\n  width: _propTypes.default.number,\n  onTruncate: _propTypes.default.func\n});\n\n_defineProperty(Truncate, \"defaultProps\", {\n  children: '',\n  ellipsis: '…',\n  lines: 1,\n  trimWhitespace: false,\n  width: 0\n});\n\n;","import React, { Component } from \"react\";\r\n\r\nexport const months = [\r\n  \"Jan\",\r\n  \"Feb\",\r\n  \"Mar\",\r\n  \"Apr\",\r\n  \"May\",\r\n  \"Jun\",\r\n  \"Jul\",\r\n  \"Aug\",\r\n  \"Sep\",\r\n  \"Oct\",\r\n  \"Nov\",\r\n  \"Dec\",\r\n];\r\n\r\nclass Announcement extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"up-container d-flex flex-column container-fluid\">\r\n        <div className=\"up mx-auto\">\r\n          {this.displayUpdate()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  displayUpdate = () => {\r\n    const { type } = this.props.announcement;\r\n    switch (type) {\r\n      case \"announcement\":\r\n        return this.displayAnnouncement();\r\n      case \"poll\":\r\n        return this.displayPoll();\r\n      case \"link\":\r\n        return this.displayLink();\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  displayAnnouncement = () => {\r\n    const { dateAndTime, text } = this.props.announcement;\r\n    let dateTime = dateAndTime.toDate();\r\n    const date = dateTime.getDate();\r\n\r\n    const month = months[dateTime.getMonth() - 1];\r\n    const year = dateTime.getFullYear();\r\n    let hour = dateTime.getHours();\r\n    let min = \"00\",\r\n      mins = dateTime.getMinutes();\r\n    mins < 10 ? (min = \"0\" + String(mins)) : (min = String(mins));\r\n    return (\r\n      <>\r\n        <div className=\"ann-preview\">\r\n          \r\n          <h3><span role=\"img\" className=\"emoji\" aria-label=\"announcement\">📢</span></h3>\r\n        </div>\r\n        <div className=\"ann-info text-left\">\r\n        <h6 style={{ width: \"fit-content\" }} className=\"mb-3\">{month} {date}, {year} at {hour}:{min}</h6>\r\n          <div style={{ minHeight: \"50%\", display: \"flex\", alignItems: \"center\" }}>\r\n            <h4>{text}</h4>\r\n          </div>\r\n          <div style={{ position: \"absolute\", top: \"5%\", right: \"1%\" }}>\r\n            {this.createButtons()}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  displayLink = () => {\r\n    const { dateAndTime, text, link } = this.props.announcement;\r\n    let dateTime = dateAndTime.toDate();\r\n    const date = dateTime.getDate();\r\n\r\n    const month = months[dateTime.getMonth() - 1];\r\n    const year = dateTime.getFullYear();\r\n    let hour = dateTime.getHours();\r\n    let min = \"00\",\r\n      mins = dateTime.getMinutes();\r\n    mins < 10 ? (min = \"0\" + String(mins)) : (min = String(mins));\r\n\r\n    return (\r\n      <>\r\n        <div className=\"ann-preview\">\r\n          <h3><span role=\"img\" className=\"emoji\" aria-label=\"announcement\">🔗</span></h3>\r\n        </div>\r\n        <div className=\"ann-info text-left\">\r\n          <h6 style={{ width: \"fit-content\" }} className=\"mb-3\">{month} {date}, {year} at {hour}:{min}</h6>\r\n          <h4>{text}</h4>\r\n          <a\r\n            className=\"btn link-btn btn-primary mt-2 float-right\"\r\n            href={link}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\" >\r\n            Visit Link\r\n              </a>\r\n          <div style={{ position: \"absolute\", top: \"5%\", right: \"1%\" }}>\r\n            {this.createButtons()}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  displayPoll = () => {\r\n    const {\r\n      dateAndTime,\r\n      text,\r\n      yesCount,\r\n      yesOption,\r\n      noCount,\r\n      noOption\r\n    } = this.props.announcement;\r\n    let dateTime = dateAndTime.toDate();\r\n    const date = dateTime.getDate();\r\n\r\n    const month = months[dateTime.getMonth() - 1];\r\n    const year = dateTime.getFullYear();\r\n    let hour = dateTime.getHours();\r\n    let min = \"00\",\r\n      mins = dateTime.getMinutes();\r\n    mins < 10 ? (min = \"0\" + String(mins)) : (min = String(mins));\r\n    let yesVotePercent = (yesCount * 100) / (noCount + yesCount);\r\n    if (Number.isNaN(yesVotePercent)) yesVotePercent = 0;\r\n    let noVotePercent = (noCount * 100) / (noCount + yesCount);\r\n    if (Number.isNaN(noVotePercent)) noVotePercent = 0;\r\n    return (\r\n      <>\r\n        <div className=\"ann-preview\">\r\n          <h3><span role=\"img\" className=\"emoji\" aria-label=\"announcement\">🗳️</span></h3>\r\n        </div>\r\n        <div className=\"ann-info text-left\">\r\n        <h6 style={{ width: \"fit-content\" }} className=\"mb-3\">{month} {date}, {year} at {hour}:{min}</h6>\r\n          <h4>{text}</h4>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <table className=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>{yesOption}</td>\r\n                    <td>{noOption}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{yesCount}</td>\r\n                    <td>{noCount}</td>\r\n                  </tr>\r\n                  {/* <tr>\r\n                    <td> {yesVotePercent.toFixed(2)}% </td>\r\n                    <td> {noVotePercent.toFixed(2)}% </td>\r\n                  </tr> */}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div style={{ position: \"absolute\", top: \"5%\", right: \"1%\" }}>\r\n            {this.createButtons()}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  getClass = () => {\r\n    const { type } = this.props.announcement;\r\n    let cls = \"text-left p-4 mb-4 \";\r\n    switch (type) {\r\n      case \"announcement\":\r\n        cls = cls + \"announcement-card \";\r\n        break;\r\n      case \"poll\":\r\n        cls = cls + \"poll-card\";\r\n        break;\r\n      case \"link\":\r\n        cls = cls + \"link-card\";\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n    return cls;\r\n  };\r\n\r\n  createButtons = () => {\r\n    return (\r\n      <button\r\n        className=\"btn\"\r\n        onClick={() => this.props.onDelete(this.props.announcement)}\r\n      >\r\n        <span role=\"img\" aria-label=\"delete\">❌</span>\r\n      </button>\r\n    );\r\n  };\r\n}\r\n\r\nexport default Announcement;\r\n\r\n// type: announcement , polls, links","import React, { Component } from \"react\";\r\nimport firebase from \"../firebase\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nclass AddAnnouncement extends Component {\r\n  state = {\r\n    show: false,\r\n\r\n    text: \"\",\r\n  };\r\n\r\n  // toggle show state\r\n  showModal = () => {\r\n    this.setState({ show: true });\r\n  };\r\n  hideModal = () => {\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  // modal show/hide class\r\n  showHideClassName = () => (this.state.show ? \"\" : \"d-none\");\r\n\r\n  styles = {\r\n    position: \"fixed\",\r\n    background: \"pink\",\r\n    color: \"black\",\r\n    width: \"80%\",\r\n    height: \"auto\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%,-50%)\",\r\n    zIndex: 1,\r\n    boxShadow: \"2px 2px 10px 10px rgba(255, 31, 255, 0.226)\",\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button className=\"btn-lg btn-info m-1\" onClick={this.showModal}>\r\n          Add Announcement\r\n        </button>\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={this.hideModal}\r\n          dialogClassName=\"modal-dialog-scrollable modal-lg\"\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              <h3 className=\"mt-2\">Add Announcement Details:</h3>\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form onSubmit={this.callAddAnnouncement}>{this.getForm()}</form>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getForm = () => {\r\n    return (\r\n      <div>\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <label className=\"m-2 mb-0\" style={{ fontSize: \"18px\" }}>\r\n              Announcement:\r\n            </label>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control mr-2\"\r\n            placeholder=\"Enter your main text here...\"\r\n            value={this.state.text}\r\n            name=\"text\"\r\n            required\r\n            onChange={this.handleChange}\r\n          />\r\n        </div>\r\n        <button className=\"btn btn-success m-2\" type=\"submit\">\r\n          Add\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    let nam = event.target.name;\r\n    let val = event.target.value;\r\n    this.setState({ [nam]: val });\r\n  };\r\n\r\n  callAddAnnouncement = (e) => {\r\n    e.preventDefault(); // preventing reload\r\n    const newAnnouncement = {\r\n      dateAndTime: firebase.firestore.Timestamp.fromDate(new Date()),\r\n      type: \"announcement\",\r\n      text: this.state.text,\r\n      isOfficial: true,\r\n    };\r\n    this.hideModal();\r\n    this.props.AddAnnouncement(newAnnouncement);\r\n    this.setState({\r\n      text: \"\",\r\n    });\r\n  };\r\n}\r\n\r\nexport default AddAnnouncement;\r\n","import React, { Component } from \"react\";\r\nimport firebase from \"../firebase\";\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nclass AddPoll extends Component {\r\n  state = {\r\n    show: false,\r\n    yesOption: \"\",\r\n    noOption: \"\",\r\n    text: \"\",\r\n  };\r\n\r\n  // toggle show state\r\n  showModal = () => {\r\n    this.setState({ show: true });\r\n  };\r\n  hideModal = () => {\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  // modal show/hide class\r\n  showHideClassName = () => (this.state.show ? \"\" : \"d-none\");\r\n\r\n  styles = {\r\n    position: \"fixed\",\r\n    background: \"pink\",\r\n    color: \"black\",\r\n    width: \"60%\",\r\n    height: \"auto\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%,-50%)\",\r\n    zIndex: 1,\r\n    boxShadow: \"2px 2px 10px 10px rgba(255, 31, 255, 0.226)\",\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button className=\"btn-lg btn-info m-1\" onClick={this.showModal}>\r\n          Add Poll\r\n        </button>\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={this.hideModal}\r\n          dialogClassName=\"modal-dialog-scrollable modal-lg\"\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title><h3 className=\"mt-2\">Add Poll Details:</h3></Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n          <form onSubmit={this.callAddPoll}>{this.getForm()}</form>            \r\n          </Modal.Body>\r\n        </Modal>      \r\n      </div>\r\n    );\r\n  }\r\n\r\n  getForm = () => {\r\n    return (\r\n      <div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">Poll Text:</label>\r\n          <div className=\"col-sm-9\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"formGroupExampleInput\"\r\n              placeholder=\"Poll Details\"\r\n              name=\"text\"\r\n              required\r\n              value={this.state.text}\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">First Option:</label>\r\n          <div className=\"col-sm-9\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"First option\"\r\n              name=\"yesOption\"\r\n              required\r\n              value={this.state.yesOption}\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">Second Option:</label>\r\n          <div className=\"col-sm-9\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Second option\"\r\n              name=\"noOption\"\r\n              required\r\n              value={this.state.noOption}\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <button className=\"btn btn-success m-2\" onClick={this.hideModal}>\r\n          Add poll\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    let nam = event.target.name;\r\n    let val = event.target.value;\r\n    this.setState({ [nam]: val });\r\n  };\r\n\r\n  callAddPoll = (e) => {\r\n    e.preventDefault(); // preventing reload\r\n    const newPoll = {\r\n      dateAndTime: firebase.firestore.Timestamp.fromDate(new Date()),\r\n      type: \"poll\",\r\n      text: this.state.text,\r\n      yesOption: this.state.yesOption,\r\n      noOption: this.state.noOption,\r\n      yesCount: 0,\r\n      noCount: 0,\r\n      isOfficial: true\r\n    };\r\n    this.props.addPoll(newPoll);\r\n    this.setState({\r\n      text: \"\",\r\n      yesOption: \"\",\r\n      noOption: \"\",\r\n    });\r\n  };\r\n}\r\n\r\nexport default AddPoll;\r\n","import React, { Component } from \"react\";\r\nimport firebase from \"../firebase\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nclass AddLink extends Component {\r\n  state = {\r\n    show: false,\r\n    link: \"\",\r\n    text: \"\",\r\n  };\r\n\r\n  // toggle show state\r\n  showModal = () => {\r\n    this.setState({ show: true });\r\n  };\r\n  hideModal = () => {\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  // modal show/hide class\r\n  showHideClassName = () => (this.state.show ? \"\" : \"d-none\");\r\n\r\n  styles = {\r\n    position: \"fixed\",\r\n    background: \"pink\",\r\n    color: \"black\",\r\n    width: \"60%\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%,-50%)\",\r\n    zIndex: 1,\r\n    boxShadow: \"2px 2px 10px 10px rgba(255, 31, 255, 0.226)\",\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button className=\"btn-lg btn-info m-1\" onClick={this.showModal}>\r\n          Add Link\r\n        </button>\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={this.hideModal}\r\n          dialogClassName=\"modal-dialog-scrollable modal-lg\"\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              <h3 className=\"mt-2\">Add Link Details:</h3>\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form onSubmit={this.callAddAnnouncement}>\r\n              {this.getForm()}\r\n              <div>\r\n                <button className=\"btn btn-success m-2\" type=\"submit\">\r\n                  Add Link\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getForm = () => {\r\n    return (\r\n      <div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">Link:</label>\r\n          <div className=\"col-sm-9\">\r\n            <input\r\n              type=\"url\"\r\n              className=\"form-control\"\r\n              placeholder=\"https://link.com\"\r\n              name=\"link\"\r\n              value={this.state.link}\r\n              required\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">Description:</label>\r\n          <div className=\"col-sm-9\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"about the link\"\r\n              name=\"text\"\r\n              value={this.state.text}\r\n              required\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    let nam = event.target.name;\r\n    let val = event.target.value;\r\n    this.setState({ [nam]: val });\r\n  };\r\n\r\n  callAddAnnouncement = (e) => {\r\n    e.preventDefault(); // preventing reload\r\n    const newLink = {\r\n      dateAndTime: firebase.firestore.Timestamp.fromDate(new Date()),\r\n      type: \"link\",\r\n      text: this.state.text,\r\n      link: this.state.link,\r\n      isOfficial: true,\r\n    };\r\n    this.props.addLink(newLink);\r\n    this.setState({\r\n      text: \"\",\r\n      link: \"\",\r\n    });\r\n    this.hideModal();\r\n  };\r\n}\r\n\r\nexport default AddLink;\r\n","import React, { Component } from \"react\";\r\nimport firebase from \"../firebase\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport M from \"materialize-css\";\r\n\r\nclass AddAssign extends Component {\r\n  state = {\r\n    show: false,\r\n    url: \"\",\r\n    title: \"\",\r\n    fileName: \"\",\r\n    progress: 0,\r\n    assign: {},\r\n  };\r\n\r\n  // toggle show state\r\n  showModal = () => {\r\n    this.setState({ show: true });\r\n  };\r\n  hideModal = () => {\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  // modal show/hide class\r\n  showHideClassName = () => (this.state.show ? \"\" : \"d-none\");\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button className=\"btn-lg btn-info m-1\" onClick={this.showModal}>\r\n          Upload Assignment\r\n        </button>\r\n\r\n        <Modal\r\n          show={this.state.show}\r\n          onHide={this.hideModal}\r\n          dialogClassName=\"modal-dialog-scrollable modal-lg\"\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              <h3 className=\"mt-2\">Add Assignment Details:</h3>\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form onSubmit={this.callAddAssign}>{this.getForm()}</form>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  browseFile = (e) => {\r\n    const assign = e.target.files[0];\r\n    if (assign) {\r\n      this.setState({ assign });\r\n    }\r\n  };\r\n\r\n  uploadAssign = () => {\r\n    const { assign } = this.state;\r\n    const setUrlName = (url, fileName) => {\r\n      if (url && fileName) {\r\n        this.setState({ url, fileName });\r\n      }\r\n    };\r\n    const setProgress = (progress) => {\r\n      if(progress) {\r\n        this.setState({progress})\r\n      }\r\n    }\r\n    if (assign.name) {\r\n      document.getElementById(\"progress\").classList.remove(\"hide\");\r\n      // create storage ref\r\n      const storageRef = firebase\r\n        .storage()\r\n        .ref(`assignment/${this.props.classCode}/${assign.name}`);\r\n\r\n      // upload file\r\n      const task = storageRef.put(assign);\r\n\r\n      // update progress bar\r\n      task.on(\r\n        \"state_changed\",\r\n        function progress(snapshot) {\r\n          const progress = (snapshot.bytesTransferred/snapshot.totalBytes)*100;\r\n          setProgress(progress);\r\n         },\r\n        function error(err) { },\r\n        function complete() {\r\n          M.toast({ html: \"Uploaded Successfully\", classes: \"toast success-toast\" })\r\n          storageRef\r\n            .getDownloadURL()\r\n            .then((url) => {\r\n              setUrlName(url, assign.name);\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  getForm = () => {\r\n    return (\r\n      <div>\r\n        <div className=\"input-group mb-3\">\r\n          <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\" id=\"inputGroup-sizing-default\">\r\n                Title\r\n              </span>\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              aria-label=\"Sizing example input\"\r\n              aria-describedby=\"inputGroup-sizing-default\"\r\n              placeholder=\"Title / Subject\"\r\n              onChange={(e) => {\r\n                this.setState({ title: e.target.value });\r\n              }}\r\n              name=\"title\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"custom-file\">\r\n            <input\r\n              type=\"file\"\r\n              className=\"custom-file-input\"\r\n              id=\"inputGroupFile02\"\r\n              onChange={this.browseFile}\r\n              required\r\n            />\r\n            <label\r\n              className=\"custom-file-label\"\r\n              htmlFor=\"inputGroupFile02\"\r\n              aria-describedby=\"inputGroupFileAddon02\"\r\n            >\r\n              {this.state.assign.name ? this.state.assign.name : \"Choose File\"}\r\n            </label>\r\n          </div>\r\n          <div className=\"input-group-append\">\r\n            <span\r\n              className=\"input-group-text\"\r\n              id=\"inputGroupFileAddon02\"\r\n              onClick={this.uploadAssign}\r\n              style={{ cursor: \"pointer\" }}\r\n            >\r\n              Upload\r\n            </span>\r\n          </div>\r\n          <div className=\"input-group\">\r\n            <progress id=\"progress\" className=\"custom-progress-bar hide\" value={this.state.progress} max=\"100\"> </progress>            \r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"btn btn-success m-2\"\r\n          type=\"submit\"\r\n        // onClick={this.hideModal}\r\n        >\r\n          Add Assignment\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  callAddAssign = (e) => {\r\n    e.preventDefault(); // preventing reload\r\n    if (this.state.fileName) {\r\n      const { url, title, fileName } = this.state;\r\n      const newAssign = {\r\n        dateAndTime: firebase.firestore.Timestamp.fromDate(new Date()),\r\n        url: url,\r\n        title: title,\r\n        fileName: fileName,\r\n        isOfficial: true,\r\n      };\r\n      this.props.addAssign(newAssign);\r\n      this.setState({\r\n        url: \"\",\r\n        title: \"\",\r\n        fileName: \"\",\r\n        assign: {},\r\n        show: false,\r\n      });\r\n      this.hideModal();\r\n    } else {\r\n      M.toast({ html: \"Please upload file first\", classes: \"toast error-toast\" })\r\n    }\r\n  };\r\n}\r\n\r\nexport default AddAssign;\r\n","import React, { Component } from \"react\";\r\nimport { months } from \"./Announcement\";\r\n\r\nclass ShowAssign extends Component {\r\n  state = {};\r\n\r\n  download = (url) => {\r\n    var filename = url.substring(url.lastIndexOf(\"/\") + 1).split(\"?\")[0].split(\"%2F\")[2];\r\n    filename = decodeURIComponent(filename);\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.responseType = 'blob';\r\n    xhr.onload = function () {\r\n      var a = document.createElement('a');\r\n      a.href = window.URL.createObjectURL(xhr.response);\r\n      a.download = filename; // Name the file anything you'd like.\r\n      a.style.display = 'none';\r\n      document.body.appendChild(a);\r\n      a.click();\r\n    };\r\n    xhr.open('GET', url);\r\n    xhr.send();\r\n  }\r\n\r\n  displayAssignment = () => {\r\n    const { dateAndTime, title, url } = this.props.details;\r\n    let dateTime = dateAndTime.toDate();\r\n    const date = dateTime.getDate();\r\n\r\n    const month = months[dateTime.getMonth() - 1];\r\n    const year = dateTime.getFullYear();\r\n    let hour = dateTime.getHours();\r\n    let min = \"00\",\r\n      mins = dateTime.getMinutes();\r\n    mins < 10 ? (min = \"0\" + String(mins)) : (min = String(mins));\r\n    return (\r\n      <>\r\n        <div className=\"ann-preview\">\r\n          <h3><span role=\"img\" className=\"emoji\" aria-label=\"assignment\">📝</span></h3>\r\n        </div>\r\n        <div className=\"ann-info text-left\">\r\n          <h6 style={{ width: \"fit-content\" }} className=\"mb-3\">{month} {date}, {year} at {hour}:{min}</h6>\r\n          <h4>{title}</h4>\r\n          <span\r\n            onClick={() => this.download(url)}\r\n            className=\"btn link-btn btn-primary mt-2 float-right\"\r\n          >\r\n            Download File\r\n              </span>\r\n          <div style={{ position: \"absolute\", top: \"5%\", right: \"1%\" }}>\r\n            <button\r\n              className=\"btn\"\r\n            onClick={() => this.props.onDelete(this.props.details)}\r\n            >\r\n              <span role=\"img\" aria-label=\"delete\">❌</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"up-container d-flex flex-column container-fluid\">\r\n        <div className=\"up mx-auto\">\r\n          {this.displayAssignment()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ShowAssign;\r\n","import React, { Component } from \"react\";\r\nimport Details from \"../StuComponents/details\";\r\nimport Announcement from \"./Announcement\";\r\nimport Announce from \"./Announce\";\r\nimport AddPoll from \"./AddPoll\";\r\nimport AddLink from \"./AddLink\";\r\nimport firebase from \"../firebase\";\r\nimport BottomNav from \"../BottomNav/bnav\";\r\nimport DarkToggle from \"../DarkToggle/DarkToggle\";\r\nimport AddAssign from \"./addAssign\";\r\nimport ShowAssign from \"./showAssign\";\r\nlet db = firebase.firestore();\r\n\r\nclass ClassDetails extends Component {\r\n  isMount = false;\r\n  state = {\r\n    details: [],\r\n    announcements: [],\r\n    assignments: [],\r\n    classId: this.props.classCode,\r\n  };\r\n\r\n  collRef = db.collection(\"classes\");\r\n  docRef = this.collRef.doc(this.state.classId);\r\n  collRefUp = this.docRef.collection(\"updates\");\r\n  docRefUp = this.collRefUp.doc(\"announcements\");\r\n\r\n  componentDidMount() {\r\n    this.isMount = true;\r\n    this.docRef.onSnapshot((doc) => {\r\n      if (doc.data()) {\r\n        if (this.isMount) {\r\n          this.setState({\r\n            details: doc.data().details,\r\n          });\r\n        }\r\n      }\r\n    });\r\n    this.docRefUp.onSnapshot((doc) => {\r\n      if (doc.data()) {\r\n        if (this.isMount) {\r\n          this.setState({\r\n            assignments: doc.data().assignments,\r\n          });\r\n        }\r\n        doc.data().announcements.forEach((announcement) => {\r\n          if (announcement.isOfficial) {\r\n            if (this.isMount) {\r\n              this.setState({\r\n                announcements: this.state.announcements.concat(announcement),\r\n              });\r\n            }\r\n          }\r\n        });\r\n        this.sortAnnouncements();\r\n        this.sortAssignments();\r\n      }\r\n    });\r\n  }\r\n  UNSAFE_componentWillMount() {\r\n    this.isMount = false;\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"code-head-btn\">\r\n          <DarkToggle />\r\n          <h1 className=\"mainPageHeading\" style={{ marginTop: \"-3vh\" }}>\r\n            Class Details\r\n          </h1>\r\n          <i\r\n            onClick={this.props.onHide}\r\n            className=\"fa fa-home float-md-right mb-2 mr-2\"\r\n            style={{ cursor: \"pointer\", fontSize: \"30px\", color: \"#000\" }}\r\n          ></i>\r\n        </div>\r\n        {/* semester details */}\r\n        <h2 id=\"Details\" className=\"subHeading\">\r\n          Info:{\" \"}\r\n        </h2>\r\n        <hr className=\"mb-4\" style={{ margin: \"0 auto\", width: \"18rem\" }} />\r\n        <Details details={this.state.details} onEdit={this.handleDetailsEdit} />\r\n        {/* Assignments */}\r\n        <div id=\"Assignments\">\r\n          <h2 className=\"subHeading\">\r\n            Assignments\r\n            <span role=\"img\" aria-label=\"assignments\">\r\n              📝\r\n            </span>\r\n          </h2>\r\n          <hr className=\"mb-4\" style={{ margin: \"0 auto\", width: \"40%\" }} />\r\n          <AddAssign\r\n            addAssign={this.addAssignment}\r\n            classCode={this.state.classId}\r\n          />\r\n          {this.state.assignments.length ? (\r\n            this.state.assignments.map((assignment) => (\r\n              <ShowAssign\r\n                key={assignment.url}\r\n                onDelete={this.deleteAssignment}\r\n                details={assignment}\r\n              />\r\n            ))\r\n          ) : (\r\n            <h4 style={{ textAlign: \"center\", width: \"100%\" }}>\r\n              No Assignments pending for the class\r\n            </h4>\r\n          )}\r\n        </div>\r\n        {/* Announcement/polls/links */}\r\n        <div id=\"Announcements\">\r\n          <div className=\"d-inline container-fluid\">\r\n            <h2 className=\"subHeading\">\r\n              Manage Announcements{\" \"}\r\n              <span role=\"img\" aria-label=\"announcement\">\r\n                📢\r\n              </span>\r\n            </h2>\r\n            <hr className=\"mb-4\" style={{ margin: \"0 auto\", width: \"40%\" }} />\r\n          </div>\r\n\r\n          <div className=\"d-flex justify-content-center mb-4\">\r\n            <Announce AddAnnouncement={this.AddAnnouncement} />\r\n            <AddPoll addPoll={this.AddAnnouncement} />\r\n            <AddLink addLink={this.AddAnnouncement} />\r\n          </div>\r\n\r\n          <div className=\"key-container\">\r\n            <h5 className=\"m-2\" style={{ textDecoration: \"underline\" }}>\r\n              Key\r\n            </h5>\r\n            <div className=\"poll-card m-2\" style={{ width: \"150px\" }}>\r\n              <span className=\"p-2\">\r\n                <span role=\"img\" className=\"mr-1\" aria-label=\"announcement\">\r\n                  📢{\" \"}\r\n                </span>{\" \"}\r\n                Announcements\r\n              </span>\r\n            </div>\r\n            <div className=\"poll-card m-2\" style={{ width: \"75px\" }}>\r\n              <span className=\"p-2\">\r\n                <span role=\"img\" className=\"mr-1\" aria-label=\"announcement\">\r\n                  🔗\r\n                </span>\r\n                Links\r\n              </span>\r\n            </div>\r\n            <div className=\"poll-card m-2\" style={{ width: \"75px\" }}>\r\n              <span className=\"p-2\">\r\n                <span role=\"img\" className=\"mr-1\" aria-label=\"announcement\">\r\n                  🗳️\r\n                </span>\r\n                Polls\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"m-4 mx-n3 ann-container\">\r\n          {this.state.announcements.map((announcement) => (\r\n            <Announcement\r\n              key={announcement.dateAndTime}\r\n              announcement={announcement}\r\n              onDelete={this.deleteAnnouncement}\r\n            />\r\n          ))}\r\n        </div>\r\n        <BottomNav paths={[\"Details\", \"Assignments\", \"Announcements\"]} />\r\n      </div>\r\n    );\r\n  }\r\n  sortAnnouncements = () => {\r\n    let temp = this.state.announcements;\r\n    for (let i = 0; i < temp.length; i++) {\r\n      for (let j = i + 1; j < temp.length; j++) {\r\n        if (temp[i].dateAndTime < temp[j].dateAndTime) {\r\n          let x = temp[i];\r\n          temp[i] = temp[j];\r\n          temp[j] = x;\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      announcements: temp,\r\n    });\r\n  };\r\n  sortAssignments = () => {\r\n    let temp = this.state.assignments;\r\n    for (let i = 0; i < temp.length; i++) {\r\n      for (let j = i + 1; j < temp.length; j++) {\r\n        if (temp[i].dateAndTime < temp[j].dateAndTime) {\r\n          let x = temp[i];\r\n          temp[i] = temp[j];\r\n          temp[j] = x;\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      assignments: temp,\r\n    });\r\n  };\r\n  AddAnnouncement = (newAnnouncement) => {\r\n    this.docRefUp.update({\r\n      announcements: firebase.firestore.FieldValue.arrayUnion(newAnnouncement),\r\n    });\r\n    this.setState({\r\n      announcements: [],\r\n    });\r\n  };\r\n  deleteAnnouncement = (announcement) => {\r\n    this.docRefUp.update({\r\n      announcements: firebase.firestore.FieldValue.arrayRemove(announcement),\r\n    });\r\n    this.setState({\r\n      announcements: [],\r\n    });\r\n  };\r\n  addAssignment = (newAssign) => {\r\n    this.docRefUp.update({\r\n      assignments: firebase.firestore.FieldValue.arrayUnion(newAssign),\r\n    });\r\n  };\r\n  deleteAssignment = (assign) => {\r\n    const fileRef = firebase\r\n      .storage()\r\n      .ref(`assignment/${this.state.classId}/${assign.fileName}`);\r\n    fileRef.delete().then(() => {\r\n      alert(\"Deleted Successfully\");\r\n    });\r\n    this.docRefUp.update({\r\n      assignments: firebase.firestore.FieldValue.arrayRemove(assign),\r\n    });\r\n  };\r\n}\r\nexport default ClassDetails;\r\n"],"sourceRoot":""}